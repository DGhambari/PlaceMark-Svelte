var tu=Object.defineProperty,eu=Object.defineProperties;var nu=Object.getOwnPropertyDescriptors;var mo=Object.getOwnPropertySymbols;var iu=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable;var Zr=(r,e,i)=>e in r?tu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,_o=(r,e)=>{for(var i in e||(e={}))iu.call(e,i)&&Zr(r,i,e[i]);if(mo)for(var i of mo(e))ru.call(e,i)&&Zr(r,i,e[i]);return r},go=(r,e)=>eu(r,nu(e));var en=(r,e,i)=>(Zr(r,typeof e!="symbol"?e+"":e,i),i);const su=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}};su();function G(){}function na(r,e){for(const i in e)r[i]=e[i];return r}function ou(r){return r&&typeof r=="object"&&typeof r.then=="function"}function ia(r){return r()}function vo(){return Object.create(null)}function Kt(r){r.forEach(ia)}function ra(r){return typeof r=="function"}function _t(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let $i;function au(r,e){return $i||($i=document.createElement("a")),$i.href=e,r===$i.href}function lu(r){return Object.keys(r).length===0}function uu(r,...e){if(r==null)return G;const i=r.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function y(r,e){r.appendChild(e)}function j(r,e,i){r.insertBefore(e,i||null)}function F(r){r.parentNode.removeChild(r)}function sa(r,e){for(let i=0;i<r.length;i+=1)r[i]&&r[i].d(e)}function k(r){return document.createElement(r)}function U(r){return document.createTextNode(r)}function O(){return U(" ")}function _n(){return U("")}function At(r,e,i,s){return r.addEventListener(e,i,s),()=>r.removeEventListener(e,i,s)}function tr(r){return function(e){return e.preventDefault(),r.call(this,e)}}function x(r,e,i){i==null?r.removeAttribute(e):r.getAttribute(e)!==i&&r.setAttribute(e,i)}function hu(r){return Array.from(r.childNodes)}function we(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function pt(r,e){r.value=e==null?"":e}function cu(r,e,i,s){i===null?r.style.removeProperty(e):r.style.setProperty(e,i,s?"important":"")}function fu(r,e,{bubbles:i=!1,cancelable:s=!1}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(r,i,s,e),a}let ni;function he(r){ni=r}function Ne(){if(!ni)throw new Error("Function called outside component initialization");return ni}function gn(r){Ne().$$.on_mount.push(r)}function du(r){Ne().$$.after_update.push(r)}function oa(r){Ne().$$.on_destroy.push(r)}function er(){const r=Ne();return(e,i,{cancelable:s=!1}={})=>{const a=r.$$.callbacks[e];if(a){const u=fu(e,i,{cancelable:s});return a.slice().forEach(h=>{h.call(r,u)}),!u.defaultPrevented}return!0}}function pu(r,e){return Ne().$$.context.set(r,e),e}function ce(r){return Ne().$$.context.get(r)}function Qr(r,e){const i=r.$$.callbacks[e.type];i&&i.slice().forEach(s=>s.call(this,e))}const Jn=[],ii=[],Wi=[],ts=[],aa=Promise.resolve();let es=!1;function la(){es||(es=!0,aa.then(us))}function ua(){return la(),aa}function ns(r){Wi.push(r)}function yo(r){ts.push(r)}const $r=new Set;let Hi=0;function us(){const r=ni;do{for(;Hi<Jn.length;){const e=Jn[Hi];Hi++,he(e),mu(e.$$)}for(he(null),Jn.length=0,Hi=0;ii.length;)ii.pop()();for(let e=0;e<Wi.length;e+=1){const i=Wi[e];$r.has(i)||($r.add(i),i())}Wi.length=0}while(Jn.length);for(;ts.length;)ts.pop()();es=!1,$r.clear(),he(r)}function mu(r){if(r.fragment!==null){r.update(),Kt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ns)}}const Ui=new Set;let Ie;function nr(){Ie={r:0,c:[],p:Ie}}function ir(){Ie.r||Kt(Ie.c),Ie=Ie.p}function tt(r,e){r&&r.i&&(Ui.delete(r),r.i(e))}function it(r,e,i,s){if(r&&r.o){if(Ui.has(r))return;Ui.add(r),Ie.c.push(()=>{Ui.delete(r),s&&(i&&r.d(1),s())}),r.o(e)}}function _u(r,e){const i=e.token={};function s(a,u,h,c){if(e.token!==i)return;e.resolved=c;let d=e.ctx;h!==void 0&&(d=d.slice(),d[h]=c);const m=a&&(e.current=a)(d);let _=!1;e.block&&(e.blocks?e.blocks.forEach((v,b)=>{b!==u&&v&&(nr(),it(v,1,1,()=>{e.blocks[b]===v&&(e.blocks[b]=null)}),ir())}):e.block.d(1),m.c(),tt(m,1),m.m(e.mount(),e.anchor),_=!0),e.block=m,e.blocks&&(e.blocks[u]=m),_&&us()}if(ou(r)){const a=Ne();if(r.then(u=>{he(a),s(e.then,1,e.value,u),he(null)},u=>{if(he(a),s(e.catch,2,e.error,u),he(null),!e.hasCatch)throw u}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,r),!0;e.resolved=r}}function gu(r,e,i){const s=e.slice(),{resolved:a}=r;r.current===r.then&&(s[r.value]=a),r.current===r.catch&&(s[r.error]=a),r.block.p(s,i)}function ha(r,e){const i={},s={},a={$$scope:1};let u=r.length;for(;u--;){const h=r[u],c=e[u];if(c){for(const d in h)d in c||(s[d]=1);for(const d in c)a[d]||(i[d]=c[d],a[d]=1);r[u]=c}else for(const d in h)a[d]=1}for(const h in s)h in i||(i[h]=void 0);return i}function ca(r){return typeof r=="object"&&r!==null?r:{}}function bo(r,e,i){const s=r.$$.props[e];s!==void 0&&(r.$$.bound[s]=i,i(r.$$.ctx[s]))}function ht(r){r&&r.c()}function at(r,e,i,s){const{fragment:a,on_mount:u,on_destroy:h,after_update:c}=r.$$;a&&a.m(e,i),s||ns(()=>{const d=u.map(ia).filter(ra);h?h.push(...d):Kt(d),r.$$.on_mount=[]}),c.forEach(ns)}function lt(r,e){const i=r.$$;i.fragment!==null&&(Kt(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function vu(r,e){r.$$.dirty[0]===-1&&(Jn.push(r),la(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function vt(r,e,i,s,a,u,h,c=[-1]){const d=ni;he(r);const m=r.$$={fragment:null,ctx:null,props:u,update:G,not_equal:a,bound:vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:vo(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};h&&h(m.root);let _=!1;if(m.ctx=i?i(r,e.props||{},(v,b,...P)=>{const A=P.length?P[0]:b;return m.ctx&&a(m.ctx[v],m.ctx[v]=A)&&(!m.skip_bound&&m.bound[v]&&m.bound[v](A),_&&vu(r,v)),b}):[],m.update(),_=!0,Kt(m.before_update),m.fragment=s?s(m.ctx):!1,e.target){if(e.hydrate){const v=hu(e.target);m.fragment&&m.fragment.l(v),v.forEach(F)}else m.fragment&&m.fragment.c();e.intro&&tt(r.$$.fragment),at(r,e.target,e.anchor,e.customElement),us()}he(d)}class yt{$destroy(){lt(this,1),this.$destroy=G}$on(e,i){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(i),()=>{const a=s.indexOf(i);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!lu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var yu="/assets/earth.74e40e3b.jpg";function bu(r){let e;return{c(){e=k("div"),e.innerHTML=`<a id="dashboard" href="/"><i style="font-size: 40px; color: rgba(36, 82, 209, 0.897);" class="fas fa-globe"></i></a> 
  <div class="ml-4">PlaceMark</div>`,x(e,"class","title p-3 is-flex")},m(i,s){j(i,e,s)},p:G,i:G,o:G,d(i){i&&F(e)}}}class fa extends yt{constructor(e){super(),vt(this,e,null,bu,_t,{})}}function wu(r){let e,i,s,a,u,h;return s=new fa({}),{c(){e=k("nav"),i=k("div"),ht(s.$$.fragment),a=O(),u=k("div"),u.innerHTML=`<div class="navbar-end"><div class="navbar-item"><div class="buttons"><a class="button" id="login" href="/#/login">Log in</a> 
          <a class="button" id="signup" href="/#/signup">Sign up</a></div></div></div>`,x(i,"class","navbar-brand"),x(u,"id","navbarBasicExample"),x(u,"class","navbar-menu"),x(e,"class","navbar"),x(e,"aria-label","main navigation")},m(c,d){j(c,e,d),y(e,i),at(s,i,null),y(e,a),y(e,u),h=!0},p:G,i(c){h||(tt(s.$$.fragment,c),h=!0)},o(c){it(s.$$.fragment,c),h=!1},d(c){c&&F(e),lt(s)}}}class hs extends yt{constructor(e){super(),vt(this,e,null,wu,_t,{})}}var xu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Pu(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),e}var cs={exports:{}},Lu={},Tu=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"})),fs=Pu(Tu);const ku=fs,da=fs,Eu=fs,Cu=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Su(r){const e={};let i=r.toString();i=i.replace(/\r\n?/mg,`
`);let s;for(;(s=Cu.exec(i))!=null;){const a=s[1];let u=s[2]||"";u=u.trim();const h=u[0];u=u.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),h==='"'&&(u=u.replace(/\\n/g,`
`),u=u.replace(/\\r/g,"\r")),e[a]=u}return e}function Hr(r){console.log(`[dotenv][DEBUG] ${r}`)}function Au(r){return r[0]==="~"?da.join(Eu.homedir(),r.slice(1)):r}function Ou(r){let e=da.resolve(process.cwd(),".env"),i="utf8";const s=Boolean(r&&r.debug),a=Boolean(r&&r.override);r&&(r.path!=null&&(e=Au(r.path)),r.encoding!=null&&(i=r.encoding));try{const u=rr.parse(ku.readFileSync(e,{encoding:i}));return Object.keys(u).forEach(function(h){Object.prototype.hasOwnProperty.call(process.env,h)?(a===!0&&(process.env[h]=u[h]),s&&Hr(a===!0?`"${h}" is already defined in \`process.env\` and WAS overwritten`:`"${h}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[h]=u[h]}),{parsed:u}}catch(u){return s&&Hr(`Failed to load ${e} ${u.message}`),{error:u}}}const rr={config:Ou,parse:Su};cs.exports.config=rr.config;cs.exports.parse=rr.parse;cs.exports=rr;function Mu(r){let e;return{c(){e=k("p"),e.textContent="An error occurred!"},m(i,s){j(i,e,s)},p:G,d(i){i&&F(e)}}}function zu(r){let e,i,s,a,u,h,c=r[0].name+"",d,m,_=r[0].sys.country+"",v,b,P,A,E=r[0].weather[0].description+"",N,S,z,I=r[0].main.temp+"",D,R,M,K,et,B=r[0].wind.speed+"",Tt,ct,wt,ft,X=r[0].main.pressure+"",Et,Ct,Xt,$,st,W,ut=r[0].coord.lon+"",It,Ot,gt,ot,mt=r[0].visibility+"",jt,Ut,wn,ee,Re,Te=r[0].main.feels_like+"",Be,li,xn,fe,Ze,$e=r[0].wind.deg+"",ui,Pn,He,Ln,Tn,Rt,Fe,je,hi=r[0].coord.lat+"",kn,ci,de,En,ur=r[0].clouds.all+"",Cn,We,Sn,ke,pe,hr=r[0].main.temp_min+"",fi,An,On,me,di,cr=r[0].wind.gust+"",pi,mi,_i,gi,Ue,Bt,vi,Zt,H,Mn,_e,zn,yi=r[0].main.temp_max+"",Ge,In,ne,Nn,bi,wi;return{c(){e=k("div"),i=k("table"),s=k("tr"),s.innerHTML=`<th>Area</th> 
            <th>Weather</th> 
            <th>Temperature</th> 
            <th>Wind</th> 
            <th>Pressure</th>`,a=O(),u=k("tr"),h=k("td"),d=U(c),m=U(", "),v=U(_),b=O(),P=k("td"),A=U("Outlook: "),N=U(E),S=O(),z=k("td"),D=U(I),R=U("	\u2103"),M=O(),K=k("td"),et=U("Speed: "),Tt=U(B),ct=U(" m/s"),wt=O(),ft=k("td"),Et=U(X),Ct=U(" hPa"),Xt=O(),$=k("tr"),st=k("td"),W=U("Longitude: "),It=U(ut),Ot=O(),gt=k("td"),ot=U("Visibility: "),jt=U(mt),Ut=U(" m"),wn=O(),ee=k("td"),Re=U("Feels like: "),Be=U(Te),li=U("	\u2103"),xn=O(),fe=k("td"),Ze=U("Direction: "),ui=U($e),Pn=U(" \xB0"),He=O(),Ln=k("td"),Tn=O(),Rt=k("tr"),Fe=k("td"),je=U("Latitude: "),kn=U(hi),ci=O(),de=k("td"),En=U("Cloud cover: "),Cn=U(ur),We=U("%"),Sn=O(),ke=k("td"),pe=U("Min: "),fi=U(hr),An=U("	\u2103"),On=O(),me=k("td"),di=U("Gusts: "),pi=U(cr),mi=U(" m/s"),_i=O(),gi=k("td"),Ue=O(),Bt=k("tr"),vi=k("td"),Zt=O(),H=k("td"),Mn=O(),_e=k("td"),zn=U("Max: "),Ge=U(yi),In=U("	\u2103"),ne=O(),Nn=k("td"),bi=O(),wi=k("td"),x(i,"class","table is-striped is-hoverable"),x(e,"class","flex-container")},m(Dn,fr){j(Dn,e,fr),y(e,i),y(i,s),y(i,a),y(i,u),y(u,h),y(h,d),y(h,m),y(h,v),y(u,b),y(u,P),y(P,A),y(P,N),y(u,S),y(u,z),y(z,D),y(z,R),y(u,M),y(u,K),y(K,et),y(K,Tt),y(K,ct),y(u,wt),y(u,ft),y(ft,Et),y(ft,Ct),y(i,Xt),y(i,$),y($,st),y(st,W),y(st,It),y($,Ot),y($,gt),y(gt,ot),y(gt,jt),y(gt,Ut),y($,wn),y($,ee),y(ee,Re),y(ee,Be),y(ee,li),y($,xn),y($,fe),y(fe,Ze),y(fe,ui),y(fe,Pn),y($,He),y($,Ln),y(i,Tn),y(i,Rt),y(Rt,Fe),y(Fe,je),y(Fe,kn),y(Rt,ci),y(Rt,de),y(de,En),y(de,Cn),y(de,We),y(Rt,Sn),y(Rt,ke),y(ke,pe),y(ke,fi),y(ke,An),y(Rt,On),y(Rt,me),y(me,di),y(me,pi),y(me,mi),y(Rt,_i),y(Rt,gi),y(i,Ue),y(i,Bt),y(Bt,vi),y(Bt,Zt),y(Bt,H),y(Bt,Mn),y(Bt,_e),y(_e,zn),y(_e,Ge),y(_e,In),y(Bt,ne),y(Bt,Nn),y(Bt,bi),y(Bt,wi)},p:G,d(Dn){Dn&&F(e)}}}function Iu(r){let e;return{c(){e=k("p"),e.textContent="...waiting"},m(i,s){j(i,e,s)},p:G,d(i){i&&F(e)}}}function Nu(r){let e,i={ctx:r,current:null,token:null,hasCatch:!0,pending:Iu,then:zu,catch:Mu,value:0,error:1};return _u(r[0],i),{c(){e=_n(),i.block.c()},m(s,a){j(s,e,a),i.block.m(s,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e},p(s,[a]){r=s,gu(i,r,a)},i:G,o:G,d(s){s&&F(e),i.block.d(s),i.token=null,i=null}}}function Du(r){return[(async()=>await(await fetch("https://api.openweathermap.org/data/2.5/weather?lat=51.8985&lon=-8.4756&appid=631946dcaae6f50f876945a2ab0f1eb9&units=metric")).json())()]}class Ru extends yt{constructor(e){super(),vt(this,e,Du,Nu,_t,{})}}function Bu(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A,E,N,S,z,I,D,R;return u=new hs({}),{c(){e=k("link"),i=O(),s=k("div"),a=k("div"),ht(u.$$.fragment),h=O(),c=k("br"),d=O(),m=k("div"),_=k("div"),v=k("h1"),v.textContent="Welcome to PlaceMark",b=O(),P=k("p"),P.textContent="Log in or Sign up",A=O(),E=k("br"),N=O(),S=k("img"),I=O(),D=k("br"),x(e,"rel","stylesheet"),x(e,"href","https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"),x(e,"integrity","sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="),x(e,"crossorigin",""),x(a,"class","column"),x(s,"class","columns is-mobile is-centered"),x(v,"class","title"),x(S,"width","1080"),au(S.src,z=yu)||x(S,"src",z),x(S,"alt","earth"),x(_,"class","rows is-centered has-text-centered"),x(m,"class","columns is-mobile is-centered")},m(M,K){j(M,e,K),j(M,i,K),j(M,s,K),y(s,a),at(u,a,null),j(M,h,K),j(M,c,K),j(M,d,K),j(M,m,K),y(m,_),y(_,v),y(_,b),y(_,P),y(_,A),y(_,E),y(_,N),y(_,S),y(_,I),y(_,D),R=!0},p:G,i(M){R||(tt(u.$$.fragment,M),R=!0)},o(M){it(u.$$.fragment,M),R=!1},d(M){M&&F(e),M&&F(i),M&&F(s),lt(u),M&&F(h),M&&F(c),M&&F(d),M&&F(m)}}}function Zu(r){return ce("PlacemarkService").logout(),[]}class wo extends yt{constructor(e){super(),vt(this,e,Zu,Bu,_t,{})}}const nn=[];function pa(r,e){return{subscribe:ds(r,e).subscribe}}function ds(r,e=G){let i;const s=new Set;function a(c){if(_t(r,c)&&(r=c,i)){const d=!nn.length;for(const m of s)m[1](),nn.push(m,r);if(d){for(let m=0;m<nn.length;m+=2)nn[m][0](nn[m+1]);nn.length=0}}}function u(c){a(c(r))}function h(c,d=G){const m=[c,d];return s.add(m),s.size===1&&(i=e(a)||G),c(r),()=>{s.delete(m),s.size===0&&(i(),i=null)}}return{set:a,update:u,subscribe:h}}function ma(r,e,i){const s=!Array.isArray(r),a=s?[r]:r,u=e.length<2;return pa(i,h=>{let c=!1;const d=[];let m=0,_=G;const v=()=>{if(m)return;_();const P=e(s?d[0]:d,h);u?h(P):_=ra(P)?P:G},b=a.map((P,A)=>uu(P,E=>{d[A]=E,m&=~(1<<A),c&&v()},()=>{m|=1<<A}));return c=!0,v(),function(){Kt(b),_()}})}function $u(r,e){if(r instanceof RegExp)return{keys:!1,pattern:r};var i,s,a,u,h=[],c="",d=r.split("/");for(d[0]||d.shift();a=d.shift();)i=a[0],i==="*"?(h.push("wild"),c+="/(.*)"):i===":"?(s=a.indexOf("?",1),u=a.indexOf(".",1),h.push(a.substring(1,~s?s:~u?u:a.length)),c+=!!~s&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(c+=(~s?"?":"")+"\\"+a.substring(u))):c+="/"+a;return{keys:h,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}function Hu(r){let e,i,s;const a=[r[2]];var u=r[0];function h(c){let d={};for(let m=0;m<a.length;m+=1)d=na(d,a[m]);return{props:d}}return u&&(e=new u(h()),e.$on("routeEvent",r[7])),{c(){e&&ht(e.$$.fragment),i=_n()},m(c,d){e&&at(e,c,d),j(c,i,d),s=!0},p(c,d){const m=d&4?ha(a,[ca(c[2])]):{};if(u!==(u=c[0])){if(e){nr();const _=e;it(_.$$.fragment,1,0,()=>{lt(_,1)}),ir()}u?(e=new u(h()),e.$on("routeEvent",c[7]),ht(e.$$.fragment),tt(e.$$.fragment,1),at(e,i.parentNode,i)):e=null}else u&&e.$set(m)},i(c){s||(e&&tt(e.$$.fragment,c),s=!0)},o(c){e&&it(e.$$.fragment,c),s=!1},d(c){c&&F(i),e&&lt(e,c)}}}function Fu(r){let e,i,s;const a=[{params:r[1]},r[2]];var u=r[0];function h(c){let d={};for(let m=0;m<a.length;m+=1)d=na(d,a[m]);return{props:d}}return u&&(e=new u(h()),e.$on("routeEvent",r[6])),{c(){e&&ht(e.$$.fragment),i=_n()},m(c,d){e&&at(e,c,d),j(c,i,d),s=!0},p(c,d){const m=d&6?ha(a,[d&2&&{params:c[1]},d&4&&ca(c[2])]):{};if(u!==(u=c[0])){if(e){nr();const _=e;it(_.$$.fragment,1,0,()=>{lt(_,1)}),ir()}u?(e=new u(h()),e.$on("routeEvent",c[6]),ht(e.$$.fragment),tt(e.$$.fragment,1),at(e,i.parentNode,i)):e=null}else u&&e.$set(m)},i(c){s||(e&&tt(e.$$.fragment,c),s=!0)},o(c){e&&it(e.$$.fragment,c),s=!1},d(c){c&&F(i),e&&lt(e,c)}}}function ju(r){let e,i,s,a;const u=[Fu,Hu],h=[];function c(d,m){return d[1]?0:1}return e=c(r),i=h[e]=u[e](r),{c(){i.c(),s=_n()},m(d,m){h[e].m(d,m),j(d,s,m),a=!0},p(d,[m]){let _=e;e=c(d),e===_?h[e].p(d,m):(nr(),it(h[_],1,1,()=>{h[_]=null}),ir(),i=h[e],i?i.p(d,m):(i=h[e]=u[e](d),i.c()),tt(i,1),i.m(s.parentNode,s))},i(d){a||(tt(i),a=!0)},o(d){it(i),a=!1},d(d){h[e].d(d),d&&F(s)}}}function xo(){const r=window.location.href.indexOf("#/");let e=r>-1?window.location.href.substr(r+1):"/";const i=e.indexOf("?");let s="";return i>-1&&(s=e.substr(i+1),e=e.substr(0,i)),{location:e,querystring:s}}const ps=pa(null,function(e){e(xo());const i=()=>{e(xo())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});ma(ps,r=>r.location);ma(ps,r=>r.querystring);const Po=ds(void 0);async function _a(r){if(!r||r.length<1||r.charAt(0)!="/"&&r.indexOf("#/")!==0)throw Error("Invalid parameter location");await ua(),history.replaceState(go(_o({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=(r.charAt(0)=="#"?"":"#")+r}function Wu(r,e,i){let{routes:s={}}=e,{prefix:a=""}=e,{restoreScrollState:u=!1}=e;class h{constructor(R,M){if(!M||typeof M!="function"&&(typeof M!="object"||M._sveltesparouter!==!0))throw Error("Invalid component object");if(!R||typeof R=="string"&&(R.length<1||R.charAt(0)!="/"&&R.charAt(0)!="*")||typeof R=="object"&&!(R instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:K,keys:et}=$u(R);this.path=R,typeof M=="object"&&M._sveltesparouter===!0?(this.component=M.component,this.conditions=M.conditions||[],this.userData=M.userData,this.props=M.props||{}):(this.component=()=>Promise.resolve(M),this.conditions=[],this.props={}),this._pattern=K,this._keys=et}match(R){if(a){if(typeof a=="string")if(R.startsWith(a))R=R.substr(a.length)||"/";else return null;else if(a instanceof RegExp){const B=R.match(a);if(B&&B[0])R=R.substr(B[0].length)||"/";else return null}}const M=this._pattern.exec(R);if(M===null)return null;if(this._keys===!1)return M;const K={};let et=0;for(;et<this._keys.length;){try{K[this._keys[et]]=decodeURIComponent(M[et+1]||"")||null}catch{K[this._keys[et]]=null}et++}return K}async checkConditions(R){for(let M=0;M<this.conditions.length;M++)if(!await this.conditions[M](R))return!1;return!0}}const c=[];s instanceof Map?s.forEach((D,R)=>{c.push(new h(R,D))}):Object.keys(s).forEach(D=>{c.push(new h(D,s[D]))});let d=null,m=null,_={};const v=er();async function b(D,R){await ua(),v(D,R)}let P=null,A=null;u&&(A=D=>{D.state&&D.state.__svelte_spa_router_scrollY?P=D.state:P=null},window.addEventListener("popstate",A),du(()=>{P?window.scrollTo(P.__svelte_spa_router_scrollX,P.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let E=null,N=null;const S=ps.subscribe(async D=>{E=D;let R=0;for(;R<c.length;){const M=c[R].match(D.location);if(!M){R++;continue}const K={route:c[R].path,location:D.location,querystring:D.querystring,userData:c[R].userData,params:M&&typeof M=="object"&&Object.keys(M).length?M:null};if(!await c[R].checkConditions(K)){i(0,d=null),N=null,b("conditionsFailed",K);return}b("routeLoading",Object.assign({},K));const et=c[R].component;if(N!=et){et.loading?(i(0,d=et.loading),N=et,i(1,m=et.loadingParams),i(2,_={}),b("routeLoaded",Object.assign({},K,{component:d,name:d.name,params:m}))):(i(0,d=null),N=null);const B=await et();if(D!=E)return;i(0,d=B&&B.default||B),N=et}M&&typeof M=="object"&&Object.keys(M).length?i(1,m=M):i(1,m=null),i(2,_=c[R].props),b("routeLoaded",Object.assign({},K,{component:d,name:d.name,params:m})).then(()=>{Po.set(m)});return}i(0,d=null),N=null,Po.set(void 0)});oa(()=>{S(),A&&window.removeEventListener("popstate",A)});function z(D){Qr.call(this,r,D)}function I(D){Qr.call(this,r,D)}return r.$$set=D=>{"routes"in D&&i(3,s=D.routes),"prefix"in D&&i(4,a=D.prefix),"restoreScrollState"in D&&i(5,u=D.restoreScrollState)},r.$$.update=()=>{r.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[d,m,_,s,a,u,z,I]}class Uu extends yt{constructor(e){super(),vt(this,e,Wu,ju,_t,{routes:3,prefix:4,restoreScrollState:5})}}function Lo(r){let e,i;return{c(){e=k("div"),i=U(r[2]),x(e,"class","section")},m(s,a){j(s,e,a),y(e,i)},p(s,a){a&4&&we(i,s[2])},d(s){s&&F(e)}}}function Gu(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A,E,N,S=r[2]&&Lo(r);return{c(){e=k("div"),i=k("form"),s=k("div"),a=k("label"),a.textContent="Email",u=O(),h=k("input"),c=O(),d=k("div"),m=k("label"),m.textContent="Password",_=O(),v=k("input"),b=O(),P=k("div"),P.innerHTML='<button class="button is-link">Log In</button>',A=O(),S&&S.c(),x(a,"class","label"),x(a,"for","email"),x(h,"class","input"),x(h,"id","email"),x(h,"name","email"),x(h,"placeholder","Enter email"),x(h,"type","text"),x(s,"class","field"),x(m,"class","label"),x(m,"for","password"),x(v,"class","input"),x(v,"id","password"),x(v,"name","password"),x(v,"placeholder","Enter Password"),x(v,"type","password"),x(d,"class","field"),x(P,"class","field is-grouped"),x(e,"class","is-mobile is-centered")},m(z,I){j(z,e,I),y(e,i),y(i,s),y(s,a),y(s,u),y(s,h),pt(h,r[0]),y(i,c),y(i,d),y(d,m),y(d,_),y(d,v),pt(v,r[1]),y(i,b),y(i,P),y(i,A),S&&S.m(i,null),E||(N=[At(h,"input",r[4]),At(v,"input",r[5]),At(i,"submit",tr(r[3]))],E=!0)},p(z,[I]){I&1&&h.value!==z[0]&&pt(h,z[0]),I&2&&v.value!==z[1]&&pt(v,z[1]),z[2]?S?S.p(z,I):(S=Lo(z),S.c(),S.m(i,null)):S&&(S.d(1),S=null)},i:G,o:G,d(z){z&&F(e),S&&S.d(),E=!1,Kt(N)}}}function Vu(r,e,i){let s="",a="",u="";const h=ce("PlacemarkService");async function c(){await h.login(s,a)?(_a("/dashboard"),console.log("login successful!")):(i(0,s=""),i(1,a=""),i(2,u="Invalid Credentials"),console.log("login was not successful"))}function d(){s=this.value,i(0,s)}function m(){a=this.value,i(1,a)}return[s,a,u,c,d,m]}class qu extends yt{constructor(e){super(),vt(this,e,Vu,Gu,_t,{})}}function Yu(r){let e,i,s,a,u;return e=new hs({}),a=new qu({}),{c(){ht(e.$$.fragment),i=O(),s=k("section"),ht(a.$$.fragment),x(s,"class","section")},m(h,c){at(e,h,c),j(h,i,c),j(h,s,c),at(a,s,null),u=!0},p:G,i(h){u||(tt(e.$$.fragment,h),tt(a.$$.fragment,h),u=!0)},o(h){it(e.$$.fragment,h),it(a.$$.fragment,h),u=!1},d(h){lt(e,h),h&&F(i),h&&F(s),lt(a)}}}class Ku extends yt{constructor(e){super(),vt(this,e,null,Yu,_t,{})}}function To(r){let e,i;return{c(){e=k("div"),i=U(r[4]),x(e,"class","section")},m(s,a){j(s,e,a),y(e,i)},p(s,a){a&16&&we(i,s[4])},d(s){s&&F(e)}}}function Xu(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A,E,N,S,z,I,D,R,M,K,et,B,Tt,ct,wt,ft=r[4]&&To(r);return{c(){e=k("form"),i=k("div"),s=k("div"),a=k("div"),u=k("label"),u.textContent="First Name",h=O(),c=k("input"),d=O(),m=k("div"),_=k("label"),_.textContent="Last Name",v=O(),b=k("input"),P=O(),A=k("div"),E=k("label"),E.textContent="Email",N=O(),S=k("input"),z=O(),I=k("div"),D=k("label"),D.textContent="Password",R=O(),M=k("input"),K=O(),et=k("div"),et.innerHTML='<button class="button is-link">Sign Up</button>',B=O(),ft&&ft.c(),Tt=_n(),x(u,"for","firstname"),x(u,"class","label"),x(c,"id","firstname"),x(c,"class","input"),x(c,"type","text"),x(c,"placeholder","Enter first name"),x(c,"name","firstName"),x(a,"class","field"),x(_,"for","lastname"),x(_,"class","label"),x(b,"id","lastname"),x(b,"class","input"),x(b,"type","text"),x(b,"placeholder","Enter last name"),x(b,"name","lastName"),x(m,"class","field"),x(s,"class","field-body"),x(i,"class","field is-horizontal"),x(E,"for","email"),x(E,"class","label"),x(S,"id","email"),x(S,"class","input"),x(S,"type","text"),x(S,"placeholder","Enter email"),x(S,"name","email"),x(A,"class","field"),x(D,"for","password"),x(D,"class","label"),x(M,"id","password"),x(M,"class","input"),x(M,"type","password"),x(M,"placeholder","Enter Password"),x(M,"name","password"),x(I,"class","field"),x(et,"class","field is-grouped")},m(X,Et){j(X,e,Et),y(e,i),y(i,s),y(s,a),y(a,u),y(a,h),y(a,c),pt(c,r[0]),y(s,d),y(s,m),y(m,_),y(m,v),y(m,b),pt(b,r[1]),y(e,P),y(e,A),y(A,E),y(A,N),y(A,S),pt(S,r[2]),y(e,z),y(e,I),y(I,D),y(I,R),y(I,M),pt(M,r[3]),y(e,K),y(e,et),j(X,B,Et),ft&&ft.m(X,Et),j(X,Tt,Et),ct||(wt=[At(c,"input",r[6]),At(b,"input",r[7]),At(S,"input",r[8]),At(M,"input",r[9]),At(e,"submit",tr(r[5]))],ct=!0)},p(X,[Et]){Et&1&&c.value!==X[0]&&pt(c,X[0]),Et&2&&b.value!==X[1]&&pt(b,X[1]),Et&4&&S.value!==X[2]&&pt(S,X[2]),Et&8&&M.value!==X[3]&&pt(M,X[3]),X[4]?ft?ft.p(X,Et):(ft=To(X),ft.c(),ft.m(Tt.parentNode,Tt)):ft&&(ft.d(1),ft=null)},i:G,o:G,d(X){X&&F(e),X&&F(B),ft&&ft.d(X),X&&F(Tt),ct=!1,Kt(wt)}}}function Ju(r,e,i){let s="",a="",u="",h="",c="";const d=ce("PlacemarkService");async function m(){await d.signup(s,a,u,h)?_a("/"):i(4,c="Error Trying to sign up")}function _(){s=this.value,i(0,s)}function v(){a=this.value,i(1,a)}function b(){u=this.value,i(2,u)}function P(){h=this.value,i(3,h)}return[s,a,u,h,c,m,_,v,b,P]}class Qu extends yt{constructor(e){super(),vt(this,e,Ju,Xu,_t,{})}}function th(r){let e,i,s,a,u;return e=new hs({}),a=new Qu({}),{c(){ht(e.$$.fragment),i=O(),s=k("section"),ht(a.$$.fragment),x(s,"class","section")},m(h,c){at(e,h,c),j(h,i,c),j(h,s,c),at(a,s,null),u=!0},p:G,i(h){u||(tt(e.$$.fragment,h),tt(a.$$.fragment,h),u=!0)},o(h){it(e.$$.fragment,h),it(a.$$.fragment,h),u=!1},d(h){lt(e,h),h&&F(i),h&&F(s),lt(a)}}}class eh extends yt{constructor(e){super(),vt(this,e,null,th,_t,{})}}function nh(r){let e,i,s,a,u,h,c,d;return s=new fa({}),{c(){e=k("nav"),i=k("div"),ht(s.$$.fragment),a=O(),u=k("a"),u.innerHTML=`<span aria-hidden="true"></span> 
    <span aria-hidden="true"></span>  <span aria-hidden="true"></span>`,h=O(),c=k("div"),c.innerHTML=`<div class="navbar-end"><div class="navbar-item"><div class="buttons"><a id="dashboard" class="button" href="/#/dashboard">Dashboard</a>  
          <a id="about" class="button" href="/#/about">About</a>  
          <a id="map" class="button" href="/#/map">Map</a> 
          <a id="charts" class="button" href="/#/charts">Charts</a> 
          <a id="logout" class="button" href="/logout">Logout</a></div></div></div>`,x(i,"class","navbar-brand"),x(u,"role","button"),x(u,"class","navbar-burger"),x(u,"data-target","navMenu"),x(u,"aria-label","menu"),x(u,"aria-expanded","false"),x(c,"class","navbar-menu"),x(c,"id","navMenu"),x(e,"class","navbar")},m(m,_){j(m,e,_),y(e,i),at(s,i,null),y(e,a),y(e,u),y(e,h),y(e,c),d=!0},p:G,i(m){d||(tt(s.$$.fragment,m),d=!0)},o(m){it(s.$$.fragment,m),d=!1},d(m){m&&F(e),lt(s)}}}class vn extends yt{constructor(e){super(),vt(this,e,null,nh,_t,{})}}function ih(r){let e,i,s,a,u,h;return e=new vn({}),{c(){ht(e.$$.fragment),i=O(),s=k("br"),a=O(),u=k("div"),u.innerHTML=`<div class="rows is-centered has-text-centered"><h3 class="title">Welcome to PlaceMark</h3> 
    <p>A place to remember places</p></div>`,x(u,"class","columns is-mobile is-centered")},m(c,d){at(e,c,d),j(c,i,d),j(c,s,d),j(c,a,d),j(c,u,d),h=!0},p:G,i(c){h||(tt(e.$$.fragment,c),h=!0)},o(c){it(e.$$.fragment,c),h=!1},d(c){lt(e,c),c&&F(i),c&&F(s),c&&F(a),c&&F(u)}}}class rh extends yt{constructor(e){super(),vt(this,e,null,ih,_t,{})}}function ko(r,e,i){const s=r.slice();return s[3]=e[i],s}function Eo(r){let e,i,s=r[3].title+"",a,u;return{c(){e=k("tr"),i=k("td"),a=U(s),u=O()},m(h,c){j(h,e,c),y(e,i),y(i,a),y(e,u)},p(h,c){c&1&&s!==(s=h[3].title+"")&&we(a,s)},d(h){h&&F(e)}}}function sh(r){let e,i=r[0],s=[];for(let a=0;a<i.length;a+=1)s[a]=Eo(ko(r,i,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=_n()},m(a,u){for(let h=0;h<s.length;h+=1)s[h].m(a,u);j(a,e,u)},p(a,[u]){if(u&1){i=a[0];let h;for(h=0;h<i.length;h+=1){const c=ko(a,i,h);s[h]?s[h].p(c,u):(s[h]=Eo(c),s[h].c(),s[h].m(e.parentNode,e))}for(;h<s.length;h+=1)s[h].d(1);s.length=i.length}},i:G,o:G,d(a){sa(s,a),a&&F(e)}}}function oh(r,e,i){er();const s=ce("PlacemarkService");let a=[];return gn(async()=>{i(0,a=await s.getPlacemarks())}),[a]}class ga extends yt{constructor(e){super(),vt(this,e,oh,sh,_t,{})}}function ah(r){let e,i,s,a,u,h,c,d,m,_,v,b;return{c(){e=k("form"),i=k("div"),s=k("label"),s.textContent="Enter Title",a=O(),u=k("input"),h=O(),c=k("div"),c.innerHTML='<div class="control"><button class="button is-link is-dark">Add Placemark</button></div>',d=O(),m=k("div"),_=U(r[1]),x(s,"class","label"),x(s,"for","title"),x(u,"class","input"),x(u,"id","title"),x(u,"name","title"),x(u,"placeholder","Enter Title"),x(u,"type","text"),x(i,"class","field"),x(c,"class","field"),x(m,"class","section")},m(P,A){j(P,e,A),y(e,i),y(i,s),y(i,a),y(i,u),pt(u,r[0]),y(e,h),y(e,c),y(e,d),y(e,m),y(m,_),v||(b=[At(u,"input",r[3]),At(e,"submit",tr(r[2]))],v=!0)},p(P,[A]){A&1&&u.value!==P[0]&&pt(u,P[0]),A&2&&we(_,P[1])},i:G,o:G,d(P){P&&F(e),v=!1,Kt(b)}}}function lh(r,e,i){const s=er(),a=ce("PlacemarkService");let u="",h="";gn(async()=>{await a.getPlacemarks()});async function c(){const m={title:u};if(m.title){if(!await a.addPlacemark(m)){i(1,h="Placemark not created - some error occurred");return}i(1,h="Success!"),s("message",{placemark:m})}else i(1,h="Failed to Create a Placemark")}function d(){u=this.value,i(0,u)}return[u,h,c,d]}class va extends yt{constructor(e){super(),vt(this,e,lh,ah,_t,{})}}var Nt={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,e){(function(i,s){s(e)})(xu,function(i){var s="1.8.0";function a(t){var n,o,l,f;for(o=1,l=arguments.length;o<l;o++){f=arguments[o];for(n in f)t[n]=f[n]}return t}var u=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function h(t,n){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var l=o.call(arguments,2);return function(){return t.apply(n,l.length?l.concat(o.call(arguments)):arguments)}}var c=0;function d(t){return"_leaflet_id"in t||(t._leaflet_id=++c),t._leaflet_id}function m(t,n,o){var l,f,p,g;return g=function(){l=!1,f&&(p.apply(o,f),f=!1)},p=function(){l?f=arguments:(t.apply(o,arguments),setTimeout(g,n),l=!0)},p}function _(t,n,o){var l=n[1],f=n[0],p=l-f;return t===l&&o?t:((t-f)%p+p)%p+f}function v(){return!1}function b(t,n){if(n===!1)return t;var o=Math.pow(10,n===void 0?6:n);return Math.round(t*o)/o}function P(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function A(t){return P(t).split(/\s+/)}function E(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var o in n)t.options[o]=n[o];return t.options}function N(t,n,o){var l=[];for(var f in t)l.push(encodeURIComponent(o?f.toUpperCase():f)+"="+encodeURIComponent(t[f]));return(!n||n.indexOf("?")===-1?"?":"&")+l.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function z(t,n){return t.replace(S,function(o,l){var f=n[l];if(f===void 0)throw new Error("No value provided for variable "+o);return typeof f=="function"&&(f=f(n)),f})}var I=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function D(t,n){for(var o=0;o<t.length;o++)if(t[o]===n)return o;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var K=0;function et(t){var n=+new Date,o=Math.max(0,16-(n-K));return K=n+o,window.setTimeout(t,o)}var B=window.requestAnimationFrame||M("RequestAnimationFrame")||et,Tt=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ct(t,n,o){if(o&&B===et)t.call(n);else return B.call(window,h(t,n))}function wt(t){t&&Tt.call(window,t)}var ft={__proto__:null,extend:a,create:u,bind:h,get lastId(){return c},stamp:d,throttle:m,wrapNum:_,falseFn:v,formatNum:b,trim:P,splitWords:A,setOptions:E,getParamString:N,template:z,isArray:I,indexOf:D,emptyImageUrl:R,requestFn:B,cancelFn:Tt,requestAnimFrame:ct,cancelAnimFrame:wt};function X(){}X.extend=function(t){var n=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,l=u(o);l.constructor=n,n.prototype=l;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(n[f]=this[f]);return t.statics&&a(n,t.statics),t.includes&&(Et(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=o.options?u(o.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,g=l._initHooks.length;p<g;p++)l._initHooks[p].call(this)}},n},X.include=function(t){var n=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},X.mergeOptions=function(t){return a(this.prototype.options,t),this},X.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Et(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=I(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(t,n,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],n);else{t=A(t);for(var f=0,p=t.length;f<p;f++)this._on(t[f],n,o)}return this},off:function(t,n,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],n);else{t=A(t);for(var f=arguments.length===1,p=0,g=t.length;p<g;p++)f?this._off(t[p]):this._off(t[p],n,o)}return this},_on:function(t,n,o){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}this._events=this._events||{};var l=this._events[t];l||(l=[],this._events[t]=l),o===this&&(o=void 0);for(var f={fn:n,ctx:o},p=l,g=0,w=p.length;g<w;g++)if(p[g].fn===n&&p[g].ctx===o)return;p.push(f)},_off:function(t,n,o){var l,f,p;if(!!this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(f=0,p=l.length;f<p;f++)l[f].fn=v;delete this._events[t];return}if(o===this&&(o=void 0),typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}for(f=0,p=l.length;f<p;f++){var g=l[f];if(g.ctx===o&&g.fn===n){this._firingCount&&(g.fn=v,this._events[t]=l=l.slice()),l.splice(f,1);return}}console.warn("listener not found")}},fire:function(t,n,o){if(!this.listens(t,o))return this;var l=a({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var f=this._events[t];if(f){this._firingCount=this._firingCount+1||1;for(var p=0,g=f.length;p<g;p++){var w=f[p];w.fn.call(w.ctx||this,l)}this._firingCount--}}return o&&this._propagateEvent(l),this},listens:function(t,n){typeof t!="string"&&console.warn('"string" type argument expected');var o=this._events&&this._events[t];if(o&&o.length)return!0;if(n){for(var l in this._eventParents)if(this._eventParents[l].listens(t,n))return!0}return!1},once:function(t,n,o){if(typeof t=="object"){for(var l in t)this.once(l,t[l],n);return this}var f=h(function(){this.off(t,n,o).off(t,f,o)},this);return this.on(t,n,o).on(t,f,o)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[d(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[d(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Xt=X.extend(Ct);function $(t,n,o){this.x=o?Math.round(t):t,this.y=o?Math.round(n):n}var st=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(t){return this.clone()._add(W(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(W(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new $(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new $(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=st(this.x),this.y=st(this.y),this},distanceTo:function(t){t=W(t);var n=t.x-this.x,o=t.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(t){return t=W(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=W(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function W(t,n,o){return t instanceof $?t:I(t)?new $(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new $(t.x,t.y):new $(t,n,o)}function ut(t,n){if(!!t)for(var o=n?[t,n]:t,l=0,f=o.length;l<f;l++)this.extend(o[l])}ut.prototype={extend:function(t){return t=W(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new $(this.min.x,this.max.y)},getTopRight:function(){return new $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,o;return typeof t[0]=="number"||t instanceof $?t=W(t):t=It(t),t instanceof ut?(n=t.min,o=t.max):n=o=t,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=It(t);var n=this.min,o=this.max,l=t.min,f=t.max,p=f.x>=n.x&&l.x<=o.x,g=f.y>=n.y&&l.y<=o.y;return p&&g},overlaps:function(t){t=It(t);var n=this.min,o=this.max,l=t.min,f=t.max,p=f.x>n.x&&l.x<o.x,g=f.y>n.y&&l.y<o.y;return p&&g},isValid:function(){return!!(this.min&&this.max)}};function It(t,n){return!t||t instanceof ut?t:new ut(t,n)}function Ot(t,n){if(!!t)for(var o=n?[t,n]:t,l=0,f=o.length;l<f;l++)this.extend(o[l])}Ot.prototype={extend:function(t){var n=this._southWest,o=this._northEast,l,f;if(t instanceof ot)l=t,f=t;else if(t instanceof Ot){if(l=t._southWest,f=t._northEast,!l||!f)return this}else return t?this.extend(mt(t)||gt(t)):this;return!n&&!o?(this._southWest=new ot(l.lat,l.lng),this._northEast=new ot(f.lat,f.lng)):(n.lat=Math.min(l.lat,n.lat),n.lng=Math.min(l.lng,n.lng),o.lat=Math.max(f.lat,o.lat),o.lng=Math.max(f.lng,o.lng)),this},pad:function(t){var n=this._southWest,o=this._northEast,l=Math.abs(n.lat-o.lat)*t,f=Math.abs(n.lng-o.lng)*t;return new Ot(new ot(n.lat-l,n.lng-f),new ot(o.lat+l,o.lng+f))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ot||"lat"in t?t=mt(t):t=gt(t);var n=this._southWest,o=this._northEast,l,f;return t instanceof Ot?(l=t.getSouthWest(),f=t.getNorthEast()):l=f=t,l.lat>=n.lat&&f.lat<=o.lat&&l.lng>=n.lng&&f.lng<=o.lng},intersects:function(t){t=gt(t);var n=this._southWest,o=this._northEast,l=t.getSouthWest(),f=t.getNorthEast(),p=f.lat>=n.lat&&l.lat<=o.lat,g=f.lng>=n.lng&&l.lng<=o.lng;return p&&g},overlaps:function(t){t=gt(t);var n=this._southWest,o=this._northEast,l=t.getSouthWest(),f=t.getNorthEast(),p=f.lat>n.lat&&l.lat<o.lat,g=f.lng>n.lng&&l.lng<o.lng;return p&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=gt(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(t,n){return t instanceof Ot?t:new Ot(t,n)}function ot(t,n,o){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,o!==void 0&&(this.alt=+o)}ot.prototype={equals:function(t,n){if(!t)return!1;t=mt(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+b(this.lat,t)+", "+b(this.lng,t)+")"},distanceTo:function(t){return Ut.distance(this,mt(t))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,o=n/Math.cos(Math.PI/180*this.lat);return gt([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function mt(t,n,o){return t instanceof ot?t:I(t)&&typeof t[0]!="object"?t.length===3?new ot(t[0],t[1],t[2]):t.length===2?new ot(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ot(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new ot(t,n,o)}var jt={latLngToPoint:function(t,n){var o=this.projection.project(t),l=this.scale(n);return this.transformation._transform(o,l)},pointToLatLng:function(t,n){var o=this.scale(n),l=this.transformation.untransform(t,o);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(t),l=this.transformation.transform(n.min,o),f=this.transformation.transform(n.max,o);return new ut(l,f)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new ot(o,n,l)},wrapLatLngBounds:function(t){var n=t.getCenter(),o=this.wrapLatLng(n),l=n.lat-o.lat,f=n.lng-o.lng;if(l===0&&f===0)return t;var p=t.getSouthWest(),g=t.getNorthEast(),w=new ot(p.lat-l,p.lng-f),T=new ot(g.lat-l,g.lng-f);return new Ot(w,T)}},Ut=a({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var o=Math.PI/180,l=t.lat*o,f=n.lat*o,p=Math.sin((n.lat-t.lat)*o/2),g=Math.sin((n.lng-t.lng)*o/2),w=p*p+Math.cos(l)*Math.cos(f)*g*g,T=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*T}}),wn=6378137,ee={R:wn,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,o=this.MAX_LATITUDE,l=Math.max(Math.min(o,t.lat),-o),f=Math.sin(l*n);return new $(this.R*t.lng*n,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(t){var n=180/Math.PI;return new ot((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=wn*Math.PI;return new ut([-t,-t],[t,t])}()};function Re(t,n,o,l){if(I(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=o,this._d=l}Re.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new $((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function Te(t,n,o,l){return new Re(t,n,o,l)}var Be=a({},Ut,{code:"EPSG:3857",projection:ee,transformation:function(){var t=.5/(Math.PI*ee.R);return Te(t,.5,-t,.5)}()}),li=a({},Be,{code:"EPSG:900913"});function xn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function fe(t,n){var o="",l,f,p,g,w,T;for(l=0,p=t.length;l<p;l++){for(w=t[l],f=0,g=w.length;f<g;f++)T=w[f],o+=(f?"L":"M")+T.x+" "+T.y;o+=n?H.svg?"z":"x":""}return o||"M0 0"}var Ze=document.documentElement.style,$e="ActiveXObject"in window,ui=$e&&!document.addEventListener,Pn="msLaunchUri"in navigator&&!("documentMode"in document),He=Zt("webkit"),Ln=Zt("android"),Tn=Zt("android 2")||Zt("android 3"),Rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=Ln&&Zt("Google")&&Rt<537&&!("AudioNode"in window),je=!!window.opera,hi=!Pn&&Zt("chrome"),kn=Zt("gecko")&&!He&&!je&&!$e,ci=!hi&&Zt("safari"),de=Zt("phantom"),En="OTransition"in Ze,ur=navigator.platform.indexOf("Win")===0,Cn=$e&&"transition"in Ze,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Tn,Sn="MozPerspective"in Ze,ke=!window.L_DISABLE_3D&&(Cn||We||Sn)&&!En&&!de,pe=typeof orientation!="undefined"||Zt("mobile"),hr=pe&&He,fi=pe&&We,An=!window.PointerEvent&&window.MSPointerEvent,On=!!(window.PointerEvent||An),me="ontouchstart"in window||!!window.TouchEvent,di=!window.L_NO_TOUCH&&(me||On),cr=pe&&je,pi=pe&&kn,mi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_i=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,n),window.removeEventListener("testPassiveEventSupport",v,n)}catch{}return t}(),gi=function(){return!!document.createElement("canvas").getContext}(),Ue=!!(document.createElementNS&&xn("svg").createSVGRect),Bt=!!Ue&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vi=!Ue&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}();function Zt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var H={ie:$e,ielt9:ui,edge:Pn,webkit:He,android:Ln,android23:Tn,androidStock:Fe,opera:je,chrome:hi,gecko:kn,safari:ci,phantom:de,opera12:En,win:ur,ie3d:Cn,webkit3d:We,gecko3d:Sn,any3d:ke,mobile:pe,mobileWebkit:hr,mobileWebkit3d:fi,msPointer:An,pointer:On,touch:di,touchNative:me,mobileOpera:cr,mobileGecko:pi,retina:mi,passiveEvents:_i,canvas:gi,svg:Ue,vml:vi,inlineSvg:Bt},Mn=H.msPointer?"MSPointerDown":"pointerdown",_e=H.msPointer?"MSPointerMove":"pointermove",zn=H.msPointer?"MSPointerUp":"pointerup",yi=H.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:Mn,touchmove:_e,touchend:zn,touchcancel:yi},In={touchstart:tl,touchmove:xi,touchend:xi,touchcancel:xi},ne={},Nn=!1;function bi(t,n,o){return n==="touchstart"&&Qa(),In[n]?(o=In[n].bind(this,o),t.addEventListener(Ge[n],o,!1),o):(console.warn("wrong event specified:",n),L.Util.falseFn)}function wi(t,n,o){if(!Ge[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Ge[n],o,!1)}function Dn(t){ne[t.pointerId]=t}function fr(t){ne[t.pointerId]&&(ne[t.pointerId]=t)}function Cs(t){delete ne[t.pointerId]}function Qa(){Nn||(document.addEventListener(Mn,Dn,!0),document.addEventListener(_e,fr,!0),document.addEventListener(zn,Cs,!0),document.addEventListener(yi,Cs,!0),Nn=!0)}function xi(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in ne)n.touches.push(ne[o]);n.changedTouches=[n],t(n)}}function tl(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&zt(n),xi(t,n)}function el(t){var n={},o,l;for(l in t)o=t[l],n[l]=o&&o.bind?o.bind(t):o;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var nl=200;function il(t,n){t.addEventListener("dblclick",n);var o=0,l;function f(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var g=Date.now();g-o<=nl?(l++,l===2&&n(el(p))):l=1,o=g}}return t.addEventListener("click",f),{dblclick:n,simDblclick:f}}function rl(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var dr=Ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rn=Ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ss=Rn==="webkitTransition"||Rn==="OTransition"?Rn+"End":"transitionend";function As(t){return typeof t=="string"?document.getElementById(t):t}function Bn(t,n){var o=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);o=l?l[n]:null}return o==="auto"?null:o}function nt(t,n,o){var l=document.createElement(t);return l.className=n||"",o&&o.appendChild(l),l}function bt(t){var n=t.parentNode;n&&n.removeChild(t)}function Pi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ve(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function qe(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function pr(t,n){if(t.classList!==void 0)return t.classList.contains(n);var o=Li(t);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function q(t,n){if(t.classList!==void 0)for(var o=A(n),l=0,f=o.length;l<f;l++)t.classList.add(o[l]);else if(!pr(t,n)){var p=Li(t);mr(t,(p?p+" ":"")+n)}}function xt(t,n){t.classList!==void 0?t.classList.remove(n):mr(t,P((" "+Li(t)+" ").replace(" "+n+" "," ")))}function mr(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function Li(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Wt(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&sl(t,n)}function sl(t,n){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(l)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):t.style.filter+=" progid:"+l+"(opacity="+n+")"}function Ti(t){for(var n=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in n)return t[o];return!1}function Ee(t,n,o){var l=n||new $(0,0);t.style[dr]=(H.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(o?" scale("+o+")":"")}function Pt(t,n){t._leaflet_pos=n,H.any3d?Ee(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Ce(t){return t._leaflet_pos||new $(0,0)}var Zn,$n,_r;if("onselectstart"in document)Zn=function(){V(window,"selectstart",zt)},$n=function(){dt(window,"selectstart",zt)};else{var Hn=Ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zn=function(){if(Hn){var t=document.documentElement.style;_r=t[Hn],t[Hn]="none"}},$n=function(){Hn&&(document.documentElement.style[Hn]=_r,_r=void 0)}}function gr(){V(window,"dragstart",zt)}function vr(){dt(window,"dragstart",zt)}var ki,yr;function br(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(Ei(),ki=t,yr=t.style.outline,t.style.outline="none",V(window,"keydown",Ei))}function Ei(){!ki||(ki.style.outline=yr,ki=void 0,yr=void 0,dt(window,"keydown",Ei))}function Os(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function wr(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var ol={__proto__:null,TRANSFORM:dr,TRANSITION:Rn,TRANSITION_END:Ss,get:As,getStyle:Bn,create:nt,remove:bt,empty:Pi,toFront:Ve,toBack:qe,hasClass:pr,addClass:q,removeClass:xt,setClass:mr,getClass:Li,setOpacity:Wt,testProp:Ti,setTransform:Ee,setPosition:Pt,getPosition:Ce,get disableTextSelection(){return Zn},get enableTextSelection(){return $n},disableImageDrag:gr,enableImageDrag:vr,preventOutline:br,restoreOutline:Ei,getSizedParentNode:Os,getScale:wr};function V(t,n,o,l){if(n&&typeof n=="object")for(var f in n)Pr(t,f,n[f],o);else{n=A(n);for(var p=0,g=n.length;p<g;p++)Pr(t,n[p],o,l)}return this}var Jt="_leaflet_events";function dt(t,n,o,l){if(arguments.length===1)Ms(t),delete t[Jt];else if(n&&typeof n=="object")for(var f in n)Lr(t,f,n[f],o);else if(n=A(n),arguments.length===2)Ms(t,function(w){return D(n,w)!==-1});else for(var p=0,g=n.length;p<g;p++)Lr(t,n[p],o,l);return this}function Ms(t,n){for(var o in t[Jt]){var l=o.split(/\d/)[0];(!n||n(l))&&Lr(t,l,null,null,o)}}var xr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pr(t,n,o,l){var f=n+d(o)+(l?"_"+d(l):"");if(t[Jt]&&t[Jt][f])return this;var p=function(w){return o.call(l||t,w||window.event)},g=p;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?p=bi(t,n,p):H.touch&&n==="dblclick"?p=il(t,p):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(xr[n]||n,p,H.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(p=function(w){w=w||window.event,kr(t,w)&&g(w)},t.addEventListener(xr[n],p,!1)):t.addEventListener(n,g,!1):t.attachEvent("on"+n,p),t[Jt]=t[Jt]||{},t[Jt][f]=p}function Lr(t,n,o,l,f){f=f||n+d(o)+(l?"_"+d(l):"");var p=t[Jt]&&t[Jt][f];if(!p)return this;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?wi(t,n,p):H.touch&&n==="dblclick"?rl(t,p):"removeEventListener"in t?t.removeEventListener(xr[n]||n,p,!1):t.detachEvent("on"+n,p),t[Jt][f]=null}function Se(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Tr(t){return Pr(t,"wheel",Se),this}function Fn(t){return V(t,"mousedown touchstart dblclick contextmenu",Se),t._leaflet_disable_click=!0,this}function zt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ae(t){return zt(t),Se(t),this}function zs(t,n){if(!n)return new $(t.clientX,t.clientY);var o=wr(n),l=o.boundingClientRect;return new $((t.clientX-l.left)/o.x-n.clientLeft,(t.clientY-l.top)/o.y-n.clientTop)}var al=H.win&&H.chrome?2*window.devicePixelRatio:H.gecko?window.devicePixelRatio:1;function Is(t){return H.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/al:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function kr(t,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var ll={__proto__:null,on:V,off:dt,stopPropagation:Se,disableScrollPropagation:Tr,disableClickPropagation:Fn,preventDefault:zt,stop:Ae,getMousePosition:zs,getWheelDelta:Is,isExternalTarget:kr,addListener:V,removeListener:dt},Ns=Xt.extend({run:function(t,n,o,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ce(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var o=this._startPos.add(this._offset.multiplyBy(t));n&&o._round(),Pt(this._el,o),this.fire("step")},_complete:function(){wt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),J=Xt.extend({options:{crs:Be,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=E(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(mt(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rn&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,Ss,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(mt(t),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=a({animate:o.animate},o.zoom),o.pan=a({animate:o.animate,duration:o.duration},o.pan));var l=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,o.zoom):this._tryAnimatedPan(t,o.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,o){var l=this.getZoomScale(n),f=this.getSize().divideBy(2),p=t instanceof $?t:this.latLngToContainerPoint(t),g=p.subtract(f).multiplyBy(1-1/l),w=this.containerPointToLatLng(f.add(g));return this.setView(w,n,{zoom:o})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():gt(t);var o=W(n.paddingTopLeft||n.padding||[0,0]),l=W(n.paddingBottomRight||n.padding||[0,0]),f=this.getBoundsZoom(t,!1,o.add(l));if(f=typeof n.maxZoom=="number"?Math.min(n.maxZoom,f):f,f===1/0)return{center:t.getCenter(),zoom:f};var p=l.subtract(o).divideBy(2),g=this.project(t.getSouthWest(),f),w=this.project(t.getNorthEast(),f),T=this.unproject(g.add(w).divideBy(2).add(p),f);return{center:T,zoom:f}},fitBounds:function(t,n){if(t=gt(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=W(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ns,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){q(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,o){if(o=o||{},o.animate===!1||!H.any3d)return this.setView(t,n,o);this._stop();var l=this.project(this.getCenter()),f=this.project(t),p=this.getSize(),g=this._zoom;t=mt(t),n=n===void 0?g:n;var w=Math.max(p.x,p.y),T=w*this.getZoomScale(g,n),C=f.distanceTo(l)||1,Z=1.42,Y=Z*Z;function Q(Lt){var Zi=Lt?-1:1,Kl=Lt?T:w,Xl=T*T-w*w+Zi*Y*Y*C*C,Jl=2*Kl*Y*C,Br=Xl/Jl,po=Math.sqrt(Br*Br+1)-Br,Ql=po<1e-9?-18:Math.log(po);return Ql}function ae(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Me(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function Bi(Lt){return ae(Lt)/Me(Lt)}var ye=Q(0);function Rr(Lt){return w*(Me(ye)/Me(ye+Z*Lt))}function Gl(Lt){return w*(Me(ye)*Bi(ye+Z*Lt)-ae(ye))/Y}function Vl(Lt){return 1-Math.pow(1-Lt,1.5)}var ql=Date.now(),co=(Q(1)-ye)/Z,Yl=o.duration?1e3*o.duration:1e3*co*.8;function fo(){var Lt=(Date.now()-ql)/Yl,Zi=Vl(Lt)*co;Lt<=1?(this._flyToFrame=ct(fo,this),this._move(this.unproject(l.add(f.subtract(l).multiplyBy(Gl(Zi)/C)),g),this.getScaleZoom(w/Rr(Zi),g),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),fo.call(this),this},flyToBounds:function(t,n){var o=this._getBoundsCenterZoom(t,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(t){if(t=gt(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var o=this.getCenter(),l=this._limitCenter(o,this._zoom,gt(t));return o.equals(l)||this.panTo(l,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var o=W(n.paddingTopLeft||n.padding||[0,0]),l=W(n.paddingBottomRight||n.padding||[0,0]),f=this.project(this.getCenter()),p=this.project(t),g=this.getPixelBounds(),w=It([g.min.add(o),g.max.subtract(l)]),T=w.getSize();if(!w.contains(p)){this._enforcingBounds=!0;var C=p.subtract(w.getCenter()),Z=w.extend(p).getSize().subtract(T);f.x+=C.x<0?-Z.x:Z.x,f.y+=C.y<0?-Z.y:Z.y,this.panTo(this.unproject(f),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),l=n.divideBy(2).round(),f=o.divideBy(2).round(),p=l.subtract(f);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=h(this._handleGeolocationResponse,this),o=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var n=t.code,o=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var n=t.coords.latitude,o=t.coords.longitude,l=new ot(n,o),f=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var g=this.getBoundsZoom(f);this.setView(l,p.maxZoom?Math.min(g,p.maxZoom):g)}var w={latlng:l,bounds:f,timestamp:t.timestamp};for(var T in t.coords)typeof t.coords[T]=="number"&&(w[T]=t.coords[T]);this.fire("locationfound",w)}},addHandler:function(t,n){if(!n)return this;var o=this[t]=new n(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(wt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)bt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=nt("div",o,n||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Ot(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,o){t=gt(t),o=W(o||[0,0]);var l=this.getZoom()||0,f=this.getMinZoom(),p=this.getMaxZoom(),g=t.getNorthWest(),w=t.getSouthEast(),T=this.getSize().subtract(o),C=It(this.project(w,l),this.project(g,l)).getSize(),Z=H.any3d?this.options.zoomSnap:1,Y=T.x/C.x,Q=T.y/C.y,ae=n?Math.max(Y,Q):Math.min(Y,Q);return l=this.getScaleZoom(ae,l),Z&&(l=Math.round(l/(Z/100))*(Z/100),l=n?Math.ceil(l/Z)*Z:Math.floor(l/Z)*Z),Math.max(f,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var o=this._getTopLeftPoint(t,n);return new ut(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(t)/o.scale(n)},getScaleZoom:function(t,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var l=o.zoom(t*o.scale(n));return isNaN(l)?1/0:l},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(mt(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(W(t),n)},layerPointToLatLng:function(t){var n=W(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(mt(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(mt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(gt(t))},distance:function(t,n){return this.options.crs.distance(mt(t),mt(n))},containerPointToLayerPoint:function(t){return W(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return W(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(W(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(mt(t)))},mouseEventToContainerPoint:function(t){return zs(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=As(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");V(n,"scroll",this._onScroll,this),this._containerId=d(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,q(t,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Bn(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(t.markerPane,"leaflet-zoom-hide"),q(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n){Pt(this._mapPane,new $(0,0));var o=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var l=this._zoom!==n;this._moveStart(l,!1)._move(t,n)._moveEnd(l),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,o,l){n===void 0&&(n=this._zoom);var f=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?o&&o.pinch&&this.fire("zoom",o):((f||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return wt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[d(this._container)]=this;var n=t?dt:V;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){wt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var o=[],l,f=n==="mouseout"||n==="mouseover",p=t.target||t.srcElement,g=!1;p;){if(l=this._targets[d(p)],l&&(n==="click"||n==="preclick")&&this._draggableMoved(l)){g=!0;break}if(l&&l.listens(n,!0)&&(f&&!kr(p,t)||(o.push(l),f))||p===this._container)break;p=p.parentNode}return!o.length&&!g&&!f&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var o=t.type;o==="mousedown"&&br(n),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,o){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,o)}var f=this._findEventTargets(t,n);if(o){for(var p=[],g=0;g<o.length;g++)o[g].listens(n,!0)&&p.push(o[g]);f=p.concat(f)}if(!!f.length){n==="contextmenu"&&zt(t);var w=f[0],T={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var C=w.getLatLng&&(!w._radius||w._radius<=10);T.containerPoint=C?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(t),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=C?w.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(g=0;g<f.length;g++)if(f[g].fire(n,T,!0),T.originalEvent._stopped||f[g].options.bubblingMouseEvents===!1&&D(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Ce(this._mapPane)||new $(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var o=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var o=this.getSize()._divideBy(2);return this.project(t,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,o){var l=this._getNewPixelOrigin(o,n);return this.project(t,n)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,n,o){var l=this._getNewPixelOrigin(o,n);return It([this.project(t.getSouthWest(),n)._subtract(l),this.project(t.getNorthWest(),n)._subtract(l),this.project(t.getSouthEast(),n)._subtract(l),this.project(t.getNorthEast(),n)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,o){if(!o)return t;var l=this.project(t,n),f=this.getSize().divideBy(2),p=new ut(l.subtract(f),l.add(f)),g=this._getBoundsOffset(p,o,n);return g.round().equals([0,0])?t:this.unproject(l.add(g),n)},_limitOffset:function(t,n){if(!n)return t;var o=this.getPixelBounds(),l=new ut(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(l,n))},_getBoundsOffset:function(t,n,o){var l=It(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),f=l.min.subtract(t.min),p=l.max.subtract(t.max),g=this._rebound(f.x,-p.x),w=this._rebound(f.y,-p.y);return new $(g,w)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),o=this.getMaxZoom(),l=H.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(n,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var o=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var t=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var o=dr,l=this._proxy.style[o];Ee(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Ee(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(n),f=this._getCenterOffset(t)._divideBy(1-1/l);return o.animate!==!0&&!this.getSize().contains(f)?!1:(ct(function(){this._moveStart(!0,!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,o,l){!this._mapPane||(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ul(t,n){return new J(t,n)}var Gt=X.extend({options:{position:"topright"},initialize:function(t){E(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),o=this.getPosition(),l=t._controlCorners[o];return q(n,"leaflet-control"),o.indexOf("bottom")!==-1?l.insertBefore(n,l.firstChild):l.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),jn=function(t){return new Gt(t)};J.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",o=this._controlContainer=nt("div",n+"control-container",this._container);function l(f,p){var g=n+f+" "+n+p;t[f+p]=nt("div",g,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)bt(this._controlCorners[t]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ds=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,o,l){return o<l?-1:l<o?1:0}},initialize:function(t,n,o){E(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in n)this._addLayer(n[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Gt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(d(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=nt("div",t),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Fn(n),Tr(n);var l=this._section=nt("section",t+"-list");o&&(this._map.on("click",this.collapse,this),V(n,{mouseenter:function(){V(l,"click",zt),this.expand(),setTimeout(function(){dt(l,"click",zt)})},mouseleave:this.collapse},this));var f=this._layersLink=nt("a",t+"-toggle",n);f.href="#",f.title="Layers",f.setAttribute("role","button"),V(f,"click",zt),V(f,"focus",this.expand,this),o||this.expand(),this._baseLayersList=nt("div",t+"-base",l),this._separator=nt("div",t+"-separator",l),this._overlaysList=nt("div",t+"-overlays",l),n.appendChild(l)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&d(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(h(function(l,f){return this.options.sortFunction(l.layer,f.layer,l.name,f.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pi(this._baseLayersList),Pi(this._overlaysList),this._layerControlInputs=[];var t,n,o,l,f=0;for(o=0;o<this._layers.length;o++)l=this._layers[o],this._addItem(l),n=n||l.overlay,t=t||!l.overlay,f+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&f>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(d(t.target)),o=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(t,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=o,l.firstChild},_addItem:function(t){var n=document.createElement("label"),o=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=o):l=this._createRadioElement("leaflet-base-layers_"+d(this),o),this._layerControlInputs.push(l),l.layerId=d(t.layer),V(l,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+t.name;var p=document.createElement("span");n.appendChild(p),p.appendChild(l),p.appendChild(f);var g=t.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t=this._layerControlInputs,n,o,l=[],f=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)n=t[p],o=this._getLayer(n.layerId).layer,n.checked?l.push(o):n.checked||f.push(o);for(p=0;p<f.length;p++)this._map.hasLayer(f[p])&&this._map.removeLayer(f[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,o,l=this._map.getZoom(),f=t.length-1;f>=0;f--)n=t[f],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),hl=function(t,n,o){return new Ds(t,n,o)},Er=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",o=nt("div",n+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,o,l,f){var p=nt("a",o,l);return p.innerHTML=t,p.href="#",p.title=n,p.setAttribute("role","button"),p.setAttribute("aria-label",n),Fn(p),V(p,"click",Ae),V(p,"click",f,this),V(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";xt(this._zoomInButton,n),xt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(q(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(q(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});J.mergeOptions({zoomControl:!0}),J.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Er,this.addControl(this.zoomControl))});var cl=function(t){return new Er(t)},Rs=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",o=nt("div",n),l=this.options;return this._addScales(l,n+"-line",o),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,o){t.metric&&(this._mScale=nt("div",n,o)),t.imperial&&(this._iScale=nt("div",n,o))},_update:function(){var t=this._map,n=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/t)},_updateImperial:function(t){var n=t*3.2808399,o,l,f;n>5280?(o=n/5280,l=this._getRoundNum(o),this._updateScale(this._iScale,l+" mi",l/o)):(f=this._getRoundNum(n),this._updateScale(this._iScale,f+" ft",f/n))},_updateScale:function(t,n,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),o=t/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),fl=function(t){return new Rs(t)},dl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Cr=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?dl+" ":"")+"Leaflet</a>"},initialize:function(t){E(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),Fn(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});J.mergeOptions({attributionControl:!0}),J.addInitHook(function(){this.options.attributionControl&&new Cr().addTo(this)});var pl=function(t){return new Cr(t)};Gt.Layers=Ds,Gt.Zoom=Er,Gt.Scale=Rs,Gt.Attribution=Cr,jn.layers=hl,jn.zoom=cl,jn.scale=fl,jn.attribution=pl;var Qt=X.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qt.addTo=function(t,n){return t.addHandler(n,this),this};var ml={Events:Ct},Bs=H.touch?"touchstart mousedown":"mousedown",ge=Xt.extend({options:{clickTolerance:3},initialize:function(t,n,o,l){E(this,l),this._element=t,this._dragStartTarget=n||t,this._preventOutline=o},enable:function(){this._enabled||(V(this._dragStartTarget,Bs,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ge._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,Bs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!pr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ge._dragging===this&&this.finishDrag();return}if(!(ge._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ge._dragging=this,this._preventOutline&&br(this._element),gr(),Zn(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,o=Os(this._element);this._startPoint=new $(n.clientX,n.clientY),this._startPos=Ce(this._element),this._parentScale=wr(o);var l=t.type==="mousedown";V(document,l?"mousemove":"touchmove",this._onMove,this),V(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,o=new $(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,zt(t),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),vr(),$n(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,ge._dragging=!1}});function Zs(t,n){if(!n||!t.length)return t.slice();var o=n*n;return t=vl(t,o),t=gl(t,o),t}function $s(t,n,o){return Math.sqrt(Wn(t,n,o,!0))}function _l(t,n,o){return Wn(t,n,o)}function gl(t,n){var o=t.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new l(o);f[0]=f[o-1]=1,Sr(t,f,n,0,o-1);var p,g=[];for(p=0;p<o;p++)f[p]&&g.push(t[p]);return g}function Sr(t,n,o,l,f){var p=0,g,w,T;for(w=l+1;w<=f-1;w++)T=Wn(t[w],t[l],t[f],!0),T>p&&(g=w,p=T);p>o&&(n[g]=1,Sr(t,n,o,l,g),Sr(t,n,o,g,f))}function vl(t,n){for(var o=[t[0]],l=1,f=0,p=t.length;l<p;l++)yl(t[l],t[f])>n&&(o.push(t[l]),f=l);return f<p-1&&o.push(t[p-1]),o}var Hs;function Fs(t,n,o,l,f){var p=l?Hs:Oe(t,o),g=Oe(n,o),w,T,C;for(Hs=g;;){if(!(p|g))return[t,n];if(p&g)return!1;w=p||g,T=Ci(t,n,w,o,f),C=Oe(T,o),w===p?(t=T,p=C):(n=T,g=C)}}function Ci(t,n,o,l,f){var p=n.x-t.x,g=n.y-t.y,w=l.min,T=l.max,C,Z;return o&8?(C=t.x+p*(T.y-t.y)/g,Z=T.y):o&4?(C=t.x+p*(w.y-t.y)/g,Z=w.y):o&2?(C=T.x,Z=t.y+g*(T.x-t.x)/p):o&1&&(C=w.x,Z=t.y+g*(w.x-t.x)/p),new $(C,Z,f)}function Oe(t,n){var o=0;return t.x<n.min.x?o|=1:t.x>n.max.x&&(o|=2),t.y<n.min.y?o|=4:t.y>n.max.y&&(o|=8),o}function yl(t,n){var o=n.x-t.x,l=n.y-t.y;return o*o+l*l}function Wn(t,n,o,l){var f=n.x,p=n.y,g=o.x-f,w=o.y-p,T=g*g+w*w,C;return T>0&&(C=((t.x-f)*g+(t.y-p)*w)/T,C>1?(f=o.x,p=o.y):C>0&&(f+=g*C,p+=w*C)),g=t.x-f,w=t.y-p,l?g*g+w*w:new $(f,p)}function ie(t){return!I(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function js(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ie(t)}var bl={__proto__:null,simplify:Zs,pointToSegmentDistance:$s,closestPointOnSegment:_l,clipSegment:Fs,_getEdgeIntersection:Ci,_getBitCode:Oe,_sqClosestPointOnSegment:Wn,isFlat:ie,_flat:js};function Ws(t,n,o){var l,f=[1,4,2,8],p,g,w,T,C,Z,Y,Q;for(p=0,Z=t.length;p<Z;p++)t[p]._code=Oe(t[p],n);for(w=0;w<4;w++){for(Y=f[w],l=[],p=0,Z=t.length,g=Z-1;p<Z;g=p++)T=t[p],C=t[g],T._code&Y?C._code&Y||(Q=Ci(C,T,Y,n,o),Q._code=Oe(Q,n),l.push(Q)):(C._code&Y&&(Q=Ci(C,T,Y,n,o),Q._code=Oe(Q,n),l.push(Q)),l.push(T));t=l}return t}var wl={__proto__:null,clipPolygon:Ws},Ar={project:function(t){return new $(t.lng,t.lat)},unproject:function(t){return new ot(t.y,t.x)},bounds:new ut([-180,-90],[180,90])},Or={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,o=this.R,l=t.lat*n,f=this.R_MINOR/o,p=Math.sqrt(1-f*f),g=p*Math.sin(l),w=Math.tan(Math.PI/4-l/2)/Math.pow((1-g)/(1+g),p/2);return l=-o*Math.log(Math.max(w,1e-10)),new $(t.lng*n*o,l)},unproject:function(t){for(var n=180/Math.PI,o=this.R,l=this.R_MINOR/o,f=Math.sqrt(1-l*l),p=Math.exp(-t.y/o),g=Math.PI/2-2*Math.atan(p),w=0,T=.1,C;w<15&&Math.abs(T)>1e-7;w++)C=f*Math.sin(g),C=Math.pow((1-C)/(1+C),f/2),T=Math.PI/2-2*Math.atan(p*C)-g,g+=T;return new ot(g*n,t.x*n/o)}},xl={__proto__:null,LonLat:Ar,Mercator:Or,SphericalMercator:ee},Pl=a({},Ut,{code:"EPSG:3395",projection:Or,transformation:function(){var t=.5/(Math.PI*Or.R);return Te(t,.5,-t,.5)}()}),Us=a({},Ut,{code:"EPSG:4326",projection:Ar,transformation:Te(1/180,1,-1/180,.5)}),Ll=a({},jt,{projection:Ar,transformation:Te(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var o=n.lng-t.lng,l=n.lat-t.lat;return Math.sqrt(o*o+l*l)},infinite:!0});jt.Earth=Ut,jt.EPSG3395=Pl,jt.EPSG3857=Be,jt.EPSG900913=li,jt.EPSG4326=Us,jt.Simple=Ll;var Vt=Xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[d(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[d(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(!!n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});J.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=d(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=d(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return d(t)in this._layers},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},_addLayers:function(t){t=t?I(t)?t:[t]:[];for(var n=0,o=t.length;n<o;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[d(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=d(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,o=this._getZoomSpan();for(var l in this._zoomBoundLayers){var f=this._zoomBoundLayers[l].options;t=f.minZoom===void 0?t:Math.min(t,f.minZoom),n=f.maxZoom===void 0?n:Math.max(n,f.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ye=Vt.extend({initialize:function(t,n){E(this,n),this._layers={};var o,l;if(t)for(o=0,l=t.length;o<l;o++)this.addLayer(t[o])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),o,l;for(o in this._layers)l=this._layers[o],l[t]&&l[t].apply(l,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return d(t)}}),Tl=function(t,n){return new Ye(t,n)},Ke=Ye.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ye.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ye.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ot;for(var n in this._layers){var o=this._layers[n];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),kl=function(t,n){return new Ke(t,n)},Xe=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){E(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,n){var o=this.options,l=o[n+"Size"];typeof l=="number"&&(l=[l,l]);var f=W(l),p=W(n==="shadow"&&o.shadowAnchor||o.iconAnchor||f&&f.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(o.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),f&&(t.style.width=f.x+"px",t.style.height=f.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return H.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function El(t){return new Xe(t)}var Un=Xe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Un.imagePath!="string"&&(Un.imagePath=this._detectIconPath()),(this.options.imagePath||Un.imagePath)+Xe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(o,l,f){var p=l.exec(o);return p&&p[f]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=nt("div","leaflet-default-icon-path",document.body),n=Bn(t,"background-image")||Bn(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Gs=Qt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ge(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,o=n._map,l=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,p=Ce(n._icon),g=o.getPixelBounds(),w=o.getPixelOrigin(),T=It(g.min._subtract(w).add(f),g.max._subtract(w).subtract(f));if(!T.contains(p)){var C=W((Math.max(T.max.x,p.x)-T.max.x)/(g.max.x-T.max.x)-(Math.min(T.min.x,p.x)-T.min.x)/(g.min.x-T.min.x),(Math.max(T.max.y,p.y)-T.max.y)/(g.max.y-T.max.y)-(Math.min(T.min.y,p.y)-T.min.y)/(g.min.y-T.min.y)).multiplyBy(l);o.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Pt(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ct(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(wt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,o=n._shadow,l=Ce(n._icon),f=n._map.layerPointToLatLng(l);o&&Pt(o,l),n._latlng=f,t.latlng=f,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){wt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Si=Vt.extend({options:{icon:new Un,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){E(this,n),this._latlng=mt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=mt(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),l=!1;o!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),q(o,n),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(o,"focus",this._panOnFocus,this);var f=t.icon.createShadow(this._shadow),p=!1;f!==this._shadow&&(this._removeShadow(),p=!0),f&&(q(f,n),f.alt=""),this._shadow=f,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pt(this._icon,t),this._shadow&&Pt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(!!this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Wt(this._icon,t),this._shadow&&Wt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var n=this.options.icon.options,o=n.iconSize?W(n.iconSize):W(0,0),l=n.iconAnchor?W(n.iconAnchor):W(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:o.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cl(t,n){return new Si(t,n)}var ve=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return E(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ai=ve.extend({options:{fill:!0,radius:10},initialize:function(t,n){E(this,n),this._latlng=mt(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=mt(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return ve.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,o=this._clickTolerance(),l=[t+o,n+o];this._pxBounds=new ut(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sl(t,n){return new Ai(t,n)}var Mr=Ai.extend({initialize:function(t,n,o){if(typeof n=="number"&&(n=a({},o,{radius:n})),E(this,n),this._latlng=mt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ot(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ve.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,o=this._map,l=o.options.crs;if(l.distance===Ut.distance){var f=Math.PI/180,p=this._mRadius/Ut.R/f,g=o.project([n+p,t]),w=o.project([n-p,t]),T=g.add(w).divideBy(2),C=o.unproject(T).lat,Z=Math.acos((Math.cos(p*f)-Math.sin(n*f)*Math.sin(C*f))/(Math.cos(n*f)*Math.cos(C*f)))/f;(isNaN(Z)||Z===0)&&(Z=p/Math.cos(Math.PI/180*n)),this._point=T.subtract(o.getPixelOrigin()),this._radius=isNaN(Z)?0:T.x-o.project([C,t-Z]).x,this._radiusY=T.y-g.y}else{var Y=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(Y).x}this._updateBounds()}});function Al(t,n,o){return new Mr(t,n,o)}var re=ve.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){E(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,o=null,l=Wn,f,p,g=0,w=this._parts.length;g<w;g++)for(var T=this._parts[g],C=1,Z=T.length;C<Z;C++){f=T[C-1],p=T[C];var Y=l(t,f,p,!0);Y<n&&(n=Y,o=l(t,f,p))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,o,l,f,p,g,w=this._rings[0],T=w.length;if(!T)return null;for(t=0,n=0;t<T-1;t++)n+=w[t].distanceTo(w[t+1])/2;if(n===0)return this._map.layerPointToLatLng(w[0]);for(t=0,l=0;t<T-1;t++)if(f=w[t],p=w[t+1],o=f.distanceTo(p),l+=o,l>n)return g=(l-n)/o,this._map.layerPointToLatLng([p.x-g*(p.x-f.x),p.y-g*(p.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=mt(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ot,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ie(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],o=ie(t),l=0,f=t.length;l<f;l++)o?(n[l]=mt(t[l]),this._bounds.extend(n[l])):n[l]=this._convertLatLngs(t[l]);return n},_project:function(){var t=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new $(t,t);!this._rawPxBounds||(this._pxBounds=new ut([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,o){var l=t[0]instanceof ot,f=t.length,p,g;if(l){for(g=[],p=0;p<f;p++)g[p]=this._map.latLngToLayerPoint(t[p]),o.extend(g[p]);n.push(g)}else for(p=0;p<f;p++)this._projectLatlngs(t[p],n,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,l,f,p,g,w,T;for(o=0,f=0,p=this._rings.length;o<p;o++)for(T=this._rings[o],l=0,g=T.length;l<g-1;l++)w=Fs(T[l],T[l+1],t,l,!0),w&&(n[f]=n[f]||[],n[f].push(w[0]),(w[1]!==T[l+1]||l===g-2)&&(n[f].push(w[1]),f++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,o=0,l=t.length;o<l;o++)t[o]=Zs(t[o],n)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var o,l,f,p,g,w,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,p=this._parts.length;o<p;o++)for(w=this._parts[o],l=0,g=w.length,f=g-1;l<g;f=l++)if(!(!n&&l===0)&&$s(t,w[f],w[l])<=T)return!0;return!1}});function Ol(t,n){return new re(t,n)}re._flat=js;var Je=re.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,o,l,f,p,g,w,T,C=this._rings[0],Z=C.length;if(!Z)return null;for(p=g=w=0,t=0,n=Z-1;t<Z;n=t++)o=C[t],l=C[n],f=o.y*l.x-l.y*o.x,g+=(o.x+l.x)*f,w+=(o.y+l.y)*f,p+=f*3;return p===0?T=C[0]:T=[g/p,w/p],this._map.layerPointToLatLng(T)},_convertLatLngs:function(t){var n=re.prototype._convertLatLngs.call(this,t),o=n.length;return o>=2&&n[0]instanceof ot&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(t){re.prototype._setLatLngs.call(this,t),ie(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ie(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,o=new $(n,n);if(t=new ut(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,f=this._rings.length,p;l<f;l++)p=Ws(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,o,l,f,p,g,w,T,C;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,T=this._parts.length;p<T;p++)for(o=this._parts[p],g=0,C=o.length,w=C-1;g<C;w=g++)l=o[g],f=o[w],l.y>t.y!=f.y>t.y&&t.x<(f.x-l.x)*(t.y-l.y)/(f.y-l.y)+l.x&&(n=!n);return n||re.prototype._containsPoint.call(this,t,!0)}});function Ml(t,n){return new Je(t,n)}var se=Ke.extend({initialize:function(t,n){E(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=I(t)?t:t.features,o,l,f;if(n){for(o=0,l=n.length;o<l;o++)f=n[o],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var g=zr(t,p);return g?(g.feature=zi(t),g.defaultOptions=g.options,this.resetStyle(g),p.onEachFeature&&p.onEachFeature(t,g),this.addLayer(g)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function zr(t,n){var o=t.type==="Feature"?t.geometry:t,l=o?o.coordinates:null,f=[],p=n&&n.pointToLayer,g=n&&n.coordsToLatLng||Ir,w,T,C,Z;if(!l&&!o)return null;switch(o.type){case"Point":return w=g(l),Vs(p,t,w,n);case"MultiPoint":for(C=0,Z=l.length;C<Z;C++)w=g(l[C]),f.push(Vs(p,t,w,n));return new Ke(f);case"LineString":case"MultiLineString":return T=Oi(l,o.type==="LineString"?0:1,g),new re(T,n);case"Polygon":case"MultiPolygon":return T=Oi(l,o.type==="Polygon"?1:2,g),new Je(T,n);case"GeometryCollection":for(C=0,Z=o.geometries.length;C<Z;C++){var Y=zr({geometry:o.geometries[C],type:"Feature",properties:t.properties},n);Y&&f.push(Y)}return new Ke(f);default:throw new Error("Invalid GeoJSON object.")}}function Vs(t,n,o,l){return t?t(n,o):new Si(o,l&&l.markersInheritOptions&&l)}function Ir(t){return new ot(t[1],t[0],t[2])}function Oi(t,n,o){for(var l=[],f=0,p=t.length,g;f<p;f++)g=n?Oi(t[f],n-1,o):(o||Ir)(t[f]),l.push(g);return l}function Nr(t,n){return t=mt(t),t.alt!==void 0?[b(t.lng,n),b(t.lat,n),b(t.alt,n)]:[b(t.lng,n),b(t.lat,n)]}function Mi(t,n,o,l){for(var f=[],p=0,g=t.length;p<g;p++)f.push(n?Mi(t[p],n-1,o,l):Nr(t[p],l));return!n&&o&&f.push(f[0]),f}function Qe(t,n){return t.feature?a({},t.feature,{geometry:n}):zi(n)}function zi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Dr={toGeoJSON:function(t){return Qe(this,{type:"Point",coordinates:Nr(this.getLatLng(),t)})}};Si.include(Dr),Mr.include(Dr),Ai.include(Dr),re.include({toGeoJSON:function(t){var n=!ie(this._latlngs),o=Mi(this._latlngs,n?1:0,!1,t);return Qe(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),Je.include({toGeoJSON:function(t){var n=!ie(this._latlngs),o=n&&!ie(this._latlngs[0]),l=Mi(this._latlngs,o?2:n?1:0,!0,t);return n||(l=[l]),Qe(this,{type:(o?"Multi":"")+"Polygon",coordinates:l})}}),Ye.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(t).geometry.coordinates)}),Qe(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var o=n==="GeometryCollection",l=[];return this.eachLayer(function(f){if(f.toGeoJSON){var p=f.toGeoJSON(t);if(o)l.push(p.geometry);else{var g=zi(p);g.type==="FeatureCollection"?l.push.apply(l,g.features):l.push(g)}}}),o?Qe(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function qs(t,n){return new se(t,n)}var zl=qs,Ii=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,o){this._url=t,this._bounds=gt(n),E(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ve(this._image),this},bringToBack:function(){return this._map&&qe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=gt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:nt("img");if(q(n,"leaflet-image-layer"),this._zoomAnimated&&q(n,"leaflet-zoom-animated"),this.options.className&&q(n,this.options.className),n.onselectstart=v,n.onmousemove=v,n.onload=h(this.fire,this,"load"),n.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ee(this._image,o,n)},_reset:function(){var t=this._image,n=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();Pt(t,n.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){Wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Il=function(t,n,o){return new Ii(t,n,o)},Ys=Ii.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:nt("video");if(q(n,"leaflet-image-layer"),this._zoomAnimated&&q(n,"leaflet-zoom-animated"),this.options.className&&q(n,this.options.className),n.onselectstart=v,n.onmousemove=v,n.onloadeddata=h(this.fire,this,"load"),t){for(var o=n.getElementsByTagName("source"),l=[],f=0;f<o.length;f++)l.push(o[f].src);this._url=o.length>0?l:[n.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var g=nt("source");g.src=this._url[p],n.appendChild(g)}}});function Nl(t,n,o){return new Ys(t,n,o)}var Ks=Ii.extend({_initImage:function(){var t=this._image=this._url;q(t,"leaflet-image-layer"),this._zoomAnimated&&q(t,"leaflet-zoom-animated"),this.options.className&&q(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function Dl(t,n,o){return new Ks(t,n,o)}var te=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,n){E(this,t),this._source=n},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Wt(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Wt(this._container,0),this._removeTimeout=setTimeout(h(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=mt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ve(this._container),this},bringToBack:function(){return this._map&&qe(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof Ke){n=null;var o=this._source._layers;for(var l in o)if(o[l]._map){n=o[l];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=W(this.options.offset),o=this._getAnchor();this._zoomAnimated?Pt(this._container,t.add(o)):n=n.add(t).add(o);var l=this._containerBottom=-n.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=l+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});J.include({_initOverlay:function(t,n,o,l){var f=n;return f instanceof t||(f=new t(l).setContent(n)),o&&f.setLatLng(o),f}}),Vt.include({_initOverlay:function(t,n,o,l){var f=o;return f instanceof t?(E(f,l),f._source=this):(f=n&&!l?n:new t(l,this),f.setContent(o)),f}});var Ni=te.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,te.prototype.openOn.call(this,t)},onAdd:function(t){te.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ve||this._source.on("preclick",Se))},onRemove:function(t){te.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ve||this._source.off("preclick",Se))},getEvents:function(){var t=te.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=nt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=nt("div",t+"-content-wrapper",n);if(this._contentNode=nt("div",t+"-content",o),Fn(n),Tr(this._contentNode),V(n,"contextmenu",Se),this._tipContainer=nt("div",t+"-tip-container",n),this._tip=nt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=nt("a",t+"-close-button",n);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',V(l,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var l=t.offsetHeight,f=this.options.maxHeight,p="leaflet-popup-scrolled";f&&l>f?(n.height=f+"px",q(t,p)):xt(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();Pt(this._container,n.add(o))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var n=this._map,o=parseInt(Bn(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+o,f=this._containerWidth,p=new $(this._containerLeft,-l-this._containerBottom);p._add(Ce(this._container));var g=n.layerPointToContainerPoint(p),w=W(this.options.autoPanPadding),T=W(this.options.autoPanPaddingTopLeft||w),C=W(this.options.autoPanPaddingBottomRight||w),Z=n.getSize(),Y=0,Q=0;g.x+f+C.x>Z.x&&(Y=g.x+f-Z.x+C.x),g.x-Y-T.x<0&&(Y=g.x-T.x),g.y+l+C.y>Z.y&&(Q=g.y+l-Z.y+C.y),g.y-Q-T.y<0&&(Q=g.y-T.y),(Y||Q)&&n.fire("autopanstart").panBy([Y,Q],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rl=function(t,n){return new Ni(t,n)};J.mergeOptions({closePopupOnClick:!0}),J.include({openPopup:function(t,n,o){return this._initOverlay(Ni,t,n,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Vt.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Ni,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ae(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof ve)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Di=te.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){te.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){te.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=te.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",n)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,o,l=this._map,f=this._container,p=l.latLngToContainerPoint(l.getCenter()),g=l.layerPointToContainerPoint(t),w=this.options.direction,T=f.offsetWidth,C=f.offsetHeight,Z=W(this.options.offset),Y=this._getAnchor();w==="top"?(n=T/2,o=C):w==="bottom"?(n=T/2,o=0):w==="center"?(n=T/2,o=C/2):w==="right"?(n=0,o=C/2):w==="left"?(n=T,o=C/2):g.x<p.x?(w="right",n=0,o=C/2):(w="left",n=T+(Z.x+Y.x)*2,o=C/2),t=t.subtract(W(n,o,!0)).add(Z).add(Y),xt(f,"leaflet-tooltip-right"),xt(f,"leaflet-tooltip-left"),xt(f,"leaflet-tooltip-top"),xt(f,"leaflet-tooltip-bottom"),q(f,"leaflet-tooltip-"+w),Pt(f,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Wt(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bl=function(t,n){return new Di(t,n)};J.include({openTooltip:function(t,n,o){return this._initOverlay(Di,t,n,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Vt.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Di,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var n=t.latlng,o,l;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(n)}});var Xs=Xe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Pi(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var l=W(o.bgPos);n.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Zl(t){return new Xs(t)}Xe.Default=Un;var Gn=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){E(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),bt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof $?t:new $(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,o=-t(-1/0,1/0),l=0,f=n.length,p;l<f;l++)p=n[l].style.zIndex,n[l]!==this._container&&p&&(o=t(o,+p));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!H.ielt9){Wt(this._container,this.options.opacity);var t=+new Date,n=!1,o=!1;for(var l in this._tiles){var f=this._tiles[l];if(!(!f.current||!f.loaded)){var p=Math.min(1,(t-f.loaded)/200);Wt(f.el,p),p<1?n=!0:(f.active?o=!0:this._onOpaqueTile(f),f.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(wt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=n-Math.abs(t-o),this._onUpdateLevel(o)):(bt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[t],f=this._map;return l||(l=this._levels[t]={},l.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=n,l.origin=f.project(f.unproject(f.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,f.getCenter(),f.getZoom()),v(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(!!this._map){var t,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var l=n.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)bt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,o,l){var f=Math.floor(t/2),p=Math.floor(n/2),g=o-1,w=new $(+f,+p);w.z=+g;var T=this._tileCoordsToKey(w),C=this._tiles[T];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),g>l?this._retainParent(f,p,g,l):!1)},_retainChildren:function(t,n,o,l){for(var f=2*t;f<2*t+2;f++)for(var p=2*n;p<2*n+2;p++){var g=new $(f,p);g.z=o+1;var w=this._tileCoordsToKey(g),T=this._tiles[w];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);o+1<l&&this._retainChildren(f,p,o+1,l)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,o,l){var f=Math.round(n);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var p=this.options.updateWhenZooming&&f!==this._tileZoom;(!l||p)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,n)},_setZoomTransform:function(t,n,o){var l=this._map.getZoomScale(o,t.zoom),f=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(n,o)).round();H.any3d?Ee(t.el,f,l):Pt(t.el,f)},_resetGrid:function(){var t=this._map,n=t.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],l).x/o.x),Math.ceil(t.project([0,n.wrapLng[1]],l).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],l).y/o.x),Math.ceil(t.project([n.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),l=n.getZoomScale(o,this._tileZoom),f=n.project(t,this._tileZoom).floor(),p=n.getSize().divideBy(l*2);return new ut(f.subtract(p),f.add(p))},_update:function(t){var n=this._map;if(!!n){var o=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),f=this._pxBoundsToTileRange(l),p=f.getCenter(),g=[],w=this.options.keepBuffer,T=new ut(f.getBottomLeft().subtract([w,-w]),f.getTopRight().add([w,-w]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var Z=this._tiles[C].coords;(Z.z!==this._tileZoom||!T.contains(new $(Z.x,Z.y)))&&(this._tiles[C].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var Y=f.min.y;Y<=f.max.y;Y++)for(var Q=f.min.x;Q<=f.max.x;Q++){var ae=new $(Q,Y);if(ae.z=this._tileZoom,!!this._isValidTile(ae)){var Me=this._tiles[this._tileCoordsToKey(ae)];Me?Me.current=!0:g.push(ae)}}if(g.sort(function(ye,Rr){return ye.distanceTo(p)-Rr.distanceTo(p)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bi=document.createDocumentFragment();for(Q=0;Q<g.length;Q++)this._addTile(g[Q],Bi);this._level.el.appendChild(Bi)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!n.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return gt(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,o=this.getTileSize(),l=t.scaleBy(o),f=l.add(o),p=n.unproject(l,t.z),g=n.unproject(f,t.z);return[p,g]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),o=new Ot(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),o=new $(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(t){var n=this._tiles[t];!n||(bt(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){q(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=v,t.onmousemove=v,H.ielt9&&this.options.opacity<1&&Wt(t,this.options.opacity)},_addTile:function(t,n){var o=this._getTilePos(t),l=this._tileCoordsToKey(t),f=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(f),this.createTile.length<2&&ct(h(this._tileReady,this,t,null,f)),Pt(f,o),this._tiles[l]={el:f,coords:t,current:!0},n.appendChild(f),this.fire("tileloadstart",{tile:f,coords:t})},_tileReady:function(t,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:t});var l=this._tileCoordsToKey(t);o=this._tiles[l],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Wt(o.el,0),wt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(q(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new $(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new ut(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function $l(t){return new Gn(t)}var tn=Gn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=E(this,n),n.detectRetina&&H.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom++):(n.zoomOffset++,n.maxZoom--),n.minZoom=Math.max(0,n.minZoom)),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var o=document.createElement("img");return V(o,"load",h(this._tileOnLoad,this,n,o)),V(o,"error",h(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.setAttribute("role","presentation"),o.src=this.getTileUrl(t),o},getTileUrl:function(t){var n={r:H.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=o),n["-y"]=o}return z(this._url,a(n,this.options))},_tileOnLoad:function(t,n){H.ielt9?setTimeout(h(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,o){var l=this.options.errorTileUrl;l&&n.getAttribute("src")!==l&&(n.src=l),t(o,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,l=this.options.zoomOffset;return o&&(t=n-t),t+l},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=v,n.onerror=v,!n.complete)){n.src=R;var o=this._tiles[t].coords;bt(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(t){var n=this._tiles[t];if(!!n)return n.el.setAttribute("src",R),Gn.prototype._removeTile.call(this,t)},_tileReady:function(t,n,o){if(!(!this._map||o&&o.getAttribute("src")===R))return Gn.prototype._tileReady.call(this,t,n,o)}});function Js(t,n){return new tn(t,n)}var Qs=tn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var o=a({},this.defaultWmsParams);for(var l in n)l in this.options||(o[l]=n[l]);n=E(this,n);var f=n.detectRetina&&H.retina?2:1,p=this.getTileSize();o.width=p.x*f,o.height=p.y*f,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,tn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),o=this._crs,l=It(o.project(n[0]),o.project(n[1])),f=l.min,p=l.max,g=(this._wmsVersion>=1.3&&this._crs===Us?[f.y,f.x,p.y,p.x]:[f.x,f.y,p.x,p.y]).join(","),w=tn.prototype.getTileUrl.call(this,t);return w+N(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(t,n){return a(this.wmsParams,t),n||this.redraw(),this}});function Hl(t,n){return new Qs(t,n)}tn.WMS=Qs,Js.wms=Hl;var oe=Vt.extend({options:{padding:.1},initialize:function(t){E(this,t),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var o=this._map.getZoomScale(n,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,n),p=l.multiplyBy(-o).add(f).subtract(this._map._getNewPixelOrigin(t,n));H.any3d?Ee(this._container,p,o):Pt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new ut(o,o.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),to=oe.extend({options:{tolerance:0},getEvents:function(){var t=oe.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");V(t,"mousemove",this._onMouseMove,this),V(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){wt(this._redrawRequest),delete this._ctx,bt(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oe.prototype._update.call(this);var t=this._bounds,n=this._container,o=t.getSize(),l=H.retina?2:1;Pt(n,t.min),n.width=l*o.x,n.height=l*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){oe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[d(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,o=n.next,l=n.prev;o?o.prev=l:this._drawLast=l,l?l.next=o:this._drawFirst=o,delete t._order,delete this._layers[d(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),o=[],l,f;for(f=0;f<n.length;f++){if(l=Number(n[f]),isNaN(l))return;o.push(l)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(!!this._drawing){var o,l,f,p,g=t._parts,w=g.length,T=this._ctx;if(!!w){for(T.beginPath(),o=0;o<w;o++){for(l=0,f=g[o].length;l<f;l++)p=g[o][l],T[l?"lineTo":"moveTo"](p.x,p.y);n&&T.closePath()}this._fillStroke(T,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,o=this._ctx,l=Math.max(Math.round(t._radius),1),f=(Math.max(Math.round(t._radiusY),1)||l)/l;f!==1&&(o.save(),o.scale(1,f)),o.beginPath(),o.arc(n.x,n.y/f,l,0,Math.PI*2,!1),f!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,n){var o=n.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),o,l,f=this._drawFirst;f;f=f.next)o=f.layer,o.options.interactive&&o._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(l=o);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(xt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var o,l,f=this._drawFirst;f;f=f.next)o=f.layer,o.options.interactive&&o._containsPoint(n)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(q(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,o){this._map._fireDOMEvent(n,o||n.type,t)},_bringToFront:function(t){var n=t._order;if(!!n){var o=n.next,l=n.prev;if(o)o.prev=l;else return;l?l.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(!!n){var o=n.next,l=n.prev;if(l)l.next=o;else return;o?o.prev=l:l&&(this._drawLast=l),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function eo(t){return H.canvas?new to(t):null}var Vn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fl={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oe.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Vn("shape");q(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Vn("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;bt(n),t.removeInteractiveTarget(n),delete this._layers[d(t)]},_updateStyle:function(t){var n=t._stroke,o=t._fill,l=t.options,f=t._container;f.stroked=!!l.stroke,f.filled=!!l.fill,l.stroke?(n||(n=t._stroke=Vn("stroke")),f.appendChild(n),n.weight=l.weight+"px",n.color=l.color,n.opacity=l.opacity,l.dashArray?n.dashStyle=I(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=l.lineCap.replace("butt","flat"),n.joinstyle=l.lineJoin):n&&(f.removeChild(n),t._stroke=null),l.fill?(o||(o=t._fill=Vn("fill")),f.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(f.removeChild(o),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),o=Math.round(t._radius),l=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+l+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){Ve(t._container)},_bringToBack:function(t){qe(t._container)}},Ri=H.vml?Vn:xn,qn=oe.extend({_initContainer:function(){this._container=Ri("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ri("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oe.prototype._update.call(this);var t=this._bounds,n=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),Pt(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Ri("path");t.options.className&&q(n,t.options.className),t.options.interactive&&q(n,"leaflet-interactive"),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){bt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[d(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,o=t.options;!n||(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,fe(t._parts,n))},_updateCircle:function(t){var n=t._point,o=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||o,f="a"+o+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(n.x-o)+","+n.y+f+o*2+",0 "+f+-o*2+",0 ";this._setPath(t,p)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){Ve(t._path)},_bringToBack:function(t){qe(t._path)}});H.vml&&qn.include(Fl);function no(t){return H.svg||H.vml?new qn(t):null}J.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&eo(t)||no(t)}});var io=Je.extend({initialize:function(t,n){Je.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=gt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function jl(t,n){return new io(t,n)}qn.create=Ri,qn.pointsToPath=fe,se.geometryToLayer=zr,se.coordsToLatLng=Ir,se.coordsToLatLngs=Oi,se.latLngToCoords=Nr,se.latLngsToCoords=Mi,se.getFeature=Qe,se.asFeature=zi,J.mergeOptions({boxZoom:!0});var ro=Qt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zn(),gr(),this._startPoint=this._map.mouseEventToContainerPoint(t),V(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new ut(this._point,this._startPoint),o=n.getSize();Pt(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(bt(this._box),xt(this._container,"leaflet-crosshair")),$n(),vr(),dt(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var n=new Ot(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});J.addInitHook("addHandler","boxZoom",ro),J.mergeOptions({doubleClickZoom:!0});var so=Qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,o=n.getZoom(),l=n.options.zoomDelta,f=t.originalEvent.shiftKey?o-l:o+l;n.options.doubleClickZoom==="center"?n.setZoom(f):n.setZoomAround(t.containerPoint,f)}});J.addInitHook("addHandler","doubleClickZoom",so),J.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oo=Qt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ge(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=gt(this._map.options.maxBounds);this._offsetLimit=It(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,f=(l-n+o)%t+n-o,p=(l+n+o)%t-n-o,g=Math.abs(f+o)<Math.abs(p+o)?f:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(t){var n=this._map,o=n.options,l=!o.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),l)n.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,g=o.easeLinearity,w=f.multiplyBy(g/p),T=w.distanceTo([0,0]),C=Math.min(o.inertiaMaxSpeed,T),Z=w.multiplyBy(C/T),Y=C/(o.inertiaDeceleration*g),Q=Z.multiplyBy(-Y/2).round();!Q.x&&!Q.y?n.fire("moveend"):(Q=n._limitOffset(Q,n.options.maxBounds),ct(function(){n.panBy(Q,{duration:Y,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});J.addInitHook("addHandler","dragging",oo),J.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ao=Qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),V(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,o=t.scrollTop||n.scrollTop,l=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(l,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},o=this.keyCodes,l,f;for(l=0,f=o.left.length;l<f;l++)n[o.left[l]]=[-1*t,0];for(l=0,f=o.right.length;l<f;l++)n[o.right[l]]=[t,0];for(l=0,f=o.down.length;l<f;l++)n[o.down[l]]=[0,t];for(l=0,f=o.up.length;l<f;l++)n[o.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},o=this.keyCodes,l,f;for(l=0,f=o.zoomIn.length;l<f;l++)n[o.zoomIn[l]]=t;for(l=0,f=o.zoomOut.length;l<f;l++)n[o.zoomOut[l]]=-t},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,o=this._map,l;if(n in this._panKeys)(!o._panAnim||!o._panAnim._inProgress)&&(l=this._panKeys[n],t.shiftKey&&(l=W(l).multiplyBy(3)),o.panBy(l),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds));else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Ae(t)}}});J.addInitHook("addHandler","keyboard",ao),J.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lo=Qt.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=Is(t),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),l),Ae(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=o?Math.ceil(f/o)*o:f,g=t._limitZoom(n+(this._delta>0?p:-p))-n;this._delta=0,this._startTime=null,g&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+g):t.setZoomAround(this._lastMousePos,n+g))}});J.addInitHook("addHandler","scrollWheelZoom",lo);var Wl=600;J.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var uo=Qt.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new $(n.clientX,n.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",zt),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Wl),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){dt(document,"touchend",zt),dt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new $(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});J.addInitHook("addHandler","tapHold",uo),J.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var ho=Qt.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(t.touches[0]),l=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(l)._divideBy(2))),this._startDist=o.distanceTo(l),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),zt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(t.touches[0]),l=n.mouseEventToContainerPoint(t.touches[1]),f=o.distanceTo(l)/this._startDist;if(this._zoom=n.getScaleZoom(f,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&f<1||this._zoom>n.getMaxZoom()&&f>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var p=o._add(l)._divideBy(2)._subtract(this._centerPoint);if(f===1&&p.x===0&&p.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),wt(this._animRequest);var g=h(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ct(g,this,!0),zt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,wt(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});J.addInitHook("addHandler","touchZoom",ho),J.BoxZoom=ro,J.DoubleClickZoom=so,J.Drag=oo,J.Keyboard=ao,J.ScrollWheelZoom=lo,J.TapHold=uo,J.TouchZoom=ho,i.Bounds=ut,i.Browser=H,i.CRS=jt,i.Canvas=to,i.Circle=Mr,i.CircleMarker=Ai,i.Class=X,i.Control=Gt,i.DivIcon=Xs,i.DivOverlay=te,i.DomEvent=ll,i.DomUtil=ol,i.Draggable=ge,i.Evented=Xt,i.FeatureGroup=Ke,i.GeoJSON=se,i.GridLayer=Gn,i.Handler=Qt,i.Icon=Xe,i.ImageOverlay=Ii,i.LatLng=ot,i.LatLngBounds=Ot,i.Layer=Vt,i.LayerGroup=Ye,i.LineUtil=bl,i.Map=J,i.Marker=Si,i.Mixin=ml,i.Path=ve,i.Point=$,i.PolyUtil=wl,i.Polygon=Je,i.Polyline=re,i.Popup=Ni,i.PosAnimation=Ns,i.Projection=xl,i.Rectangle=io,i.Renderer=oe,i.SVG=qn,i.SVGOverlay=Ks,i.TileLayer=tn,i.Tooltip=Di,i.Transformation=Re,i.Util=ft,i.VideoOverlay=Ys,i.bind=h,i.bounds=It,i.canvas=eo,i.circle=Al,i.circleMarker=Sl,i.control=jn,i.divIcon=Zl,i.extend=a,i.featureGroup=kl,i.geoJSON=qs,i.geoJson=zl,i.gridLayer=$l,i.icon=El,i.imageOverlay=Il,i.latLng=mt,i.latLngBounds=gt,i.layerGroup=Tl,i.map=ul,i.marker=Cl,i.point=W,i.polygon=Ml,i.polyline=Ol,i.popup=Rl,i.rectangle=jl,i.setOptions=E,i.stamp=d,i.svg=no,i.svgOverlay=Dl,i.tileLayer=Js,i.tooltip=Bl,i.transformation=Te,i.version=s,i.videoOverlay=Nl;var Ul=window.L;i.noConflict=function(){return window.L=Ul,this},window.L=i})})(Nt,Nt.exports);class uh{constructor(e,i,s=""){en(this,"imap",{});en(this,"control",{});en(this,"overlays",{});en(this,"baseLayers",{Terrain:Nt.exports.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),Satellite:Nt.exports.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Esri_WorldImagery:Nt.exports.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})});let a=this.baseLayers.Terrain;s&&(a=this.baseLayers[s]),this.imap=Nt.exports.map(e,{center:[i.location.lat,i.location.lng],zoom:i.zoom,minZoom:i.minZoom,zoomControl:!1,layers:[a]})}addLayer(e,i){this.overlays[e]=i,this.imap.addLayer(i)}addLayerGroup(e){this.overlays[e]=Nt.exports.layerGroup([]),this.imap.addLayer(this.overlays[e])}showLayerControl(){this.control=Nt.exports.control.layers(this.baseLayers,this.overlays).addTo(this.imap)}showZoomControl(e="topleft"){Nt.exports.control.zoom({position:e}).addTo(this.imap)}moveTo(e,i){this.imap.setZoom(e),this.imap.panTo(new Nt.exports.LatLng(i.lat,i.lng))}zoomTo(e){this.imap.setView(new Nt.exports.LatLng(e.lat,e.lng),8)}addMarker(e,i="",s="default"){let a={},u=Nt.exports.marker([e.lat,e.lng]);if(i){var h=Nt.exports.popup({autoClose:!1,closeOnClick:!1});h.setContent(i),u.bindPopup(h)}this.overlays[s]?a=this.overlays[s]:(a=Nt.exports.layerGroup([]),this.overlays[s]=a,this.imap.addLayer(a)),u.addTo(a)}invalidateSize(){this.imap.invalidateSize(),this.imap._onResize()}}function hh(r){let e;return{c(){e=k("div"),x(e,"class","box"),x(e,"id","placemark-map"),cu(e,"height","800px")},m(i,s){j(i,e,s)},p:G,i:G,o:G,d(i){i&&F(e)}}}let ch=null;function fh(r){const e=`${r.category} ${r.place}`;ch.addMarker({lat:r.lat,lng:r.lng},e,"Placemarks")}function dh(r){const e=ce("PlacemarkService"),i={location:{lat:53.1424,lng:-7.6921},zoom:7,minZoom:1};return gn(async()=>{const s=new uh("placemark-map",i);s.showZoomControl(),s.addLayerGroup("Placemarks"),s.showLayerControl(),(await e.getPointsOfInterest()).forEach(u=>{fh(u)})}),[]}class ya extends yt{constructor(e){super(),vt(this,e,dh,hh,_t,{})}}function ph(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A;return e=new vn({}),a=new ga({}),h=new ya({}),m=new Ru({}),P=new va({}),{c(){ht(e.$$.fragment),i=O(),s=k("section"),ht(a.$$.fragment),u=O(),ht(h.$$.fragment),c=O(),d=k("center"),ht(m.$$.fragment),_=O(),v=k("br"),b=O(),ht(P.$$.fragment),x(s,"class","section")},m(E,N){at(e,E,N),j(E,i,N),j(E,s,N),at(a,s,null),y(s,u),at(h,s,null),y(s,c),y(s,d),at(m,d,null),y(s,_),y(s,v),y(s,b),at(P,s,null),A=!0},p:G,i(E){A||(tt(e.$$.fragment,E),tt(a.$$.fragment,E),tt(h.$$.fragment,E),tt(m.$$.fragment,E),tt(P.$$.fragment,E),A=!0)},o(E){it(e.$$.fragment,E),it(a.$$.fragment,E),it(h.$$.fragment,E),it(m.$$.fragment,E),it(P.$$.fragment,E),A=!1},d(E){lt(e,E),E&&F(i),E&&F(s),lt(a),lt(h),lt(m),lt(P)}}}function mh(r){return ce("PlacemarkService").logout(),[]}class _h extends yt{constructor(e){super(),vt(this,e,mh,ph,_t,{})}}function gh(r){let e,i,s,a,u,h;return e=new vn({}),s=new ga({}),u=new va({}),{c(){ht(e.$$.fragment),i=O(),ht(s.$$.fragment),a=O(),ht(u.$$.fragment)},m(c,d){at(e,c,d),j(c,i,d),at(s,c,d),j(c,a,d),at(u,c,d),h=!0},p:G,i(c){h||(tt(e.$$.fragment,c),tt(s.$$.fragment,c),tt(u.$$.fragment,c),h=!0)},o(c){it(e.$$.fragment,c),it(s.$$.fragment,c),it(u.$$.fragment,c),h=!1},d(c){lt(e,c),c&&F(i),lt(s,c),c&&F(a),lt(u,c)}}}class vh extends yt{constructor(e){super(),vt(this,e,null,gh,_t,{})}}function Co(r,e,i){const s=r.slice();return s[2]=e[i],s}function So(r){let e,i,s=r[2].category+"",a,u,h,c=r[2].place+"",d,m,_,v=r[2].lat+"",b,P,A,E=r[2].lng+"",N,S;return{c(){e=k("tr"),i=k("td"),a=U(s),u=O(),h=k("td"),d=U(c),m=O(),_=k("td"),b=U(v),P=O(),A=k("td"),N=U(E),S=O()},m(z,I){j(z,e,I),y(e,i),y(i,a),y(e,u),y(e,h),y(h,d),y(e,m),y(e,_),y(_,b),y(e,P),y(e,A),y(A,N),y(e,S)},p(z,I){I&1&&s!==(s=z[2].category+"")&&we(a,s),I&1&&c!==(c=z[2].place+"")&&we(d,c),I&1&&v!==(v=z[2].lat+"")&&we(b,v),I&1&&E!==(E=z[2].lng+"")&&we(N,E)},d(z){z&&F(e)}}}function yh(r){let e,i,s,a,u=r[0],h=[];for(let c=0;c<u.length;c+=1)h[c]=So(Co(r,u,c));return{c(){e=k("table"),i=k("thead"),i.innerHTML=`<tr><th>Category</th> 
      <th>Point of Interest</th> 
      <th>Latitude</th> 
      <th>Longitude</th></tr>`,s=O(),a=k("tbody");for(let c=0;c<h.length;c+=1)h[c].c();x(e,"class","table is-fullwidth")},m(c,d){j(c,e,d),y(e,i),y(e,s),y(e,a);for(let m=0;m<h.length;m+=1)h[m].m(a,null)},p(c,[d]){if(d&1){u=c[0];let m;for(m=0;m<u.length;m+=1){const _=Co(c,u,m);h[m]?h[m].p(_,d):(h[m]=So(_),h[m].c(),h[m].m(a,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=u.length}},i:G,o:G,d(c){c&&F(e),sa(h,c)}}}function bh(r,e,i){const s=ce("PlacemarkService");let{pointOfInterestList:a=[]}=e;return gn(async()=>{i(0,a=await s.getPointsOfInterest())}),r.$$set=u=>{"pointOfInterestList"in u&&i(0,a=u.pointOfInterestList)},[a]}class wh extends yt{constructor(e){super(),vt(this,e,bh,yh,_t,{pointOfInterestList:0})}}function xh(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A,E;return{c(){e=k("div"),i=k("div"),i.innerHTML='<label for="lng" class="label">Lat</label>',s=O(),a=k("div"),u=k("div"),h=k("p"),c=k("input"),d=O(),m=k("div"),m.innerHTML='<label for="lat" class="label">Lng</label>',_=O(),v=k("div"),b=k("p"),P=k("input"),x(i,"class","field-label is-normal"),x(c,"id","lng"),x(c,"class","input"),x(c,"type","float"),x(h,"class","control is-expanded"),x(u,"class","field"),x(m,"class","field-label is-normal"),x(P,"id","lat"),x(P,"class","input"),x(P,"type","float"),x(b,"class","control is-expanded "),x(v,"class","field"),x(a,"class","field-body"),x(e,"class","box field is-horizontal")},m(N,S){j(N,e,S),y(e,i),y(e,s),y(e,a),y(a,u),y(u,h),y(h,c),pt(c,r[0]),y(a,d),y(a,m),y(a,_),y(a,v),y(v,b),y(b,P),pt(P,r[1]),A||(E=[At(c,"input",r[2]),At(P,"input",r[3])],A=!0)},p(N,[S]){S&1&&pt(c,N[0]),S&2&&pt(P,N[1])},i:G,o:G,d(N){N&&F(e),A=!1,Kt(E)}}}function Ph(r,e,i){let{lat:s=0}=e,{lng:a=0}=e;function u(){s=this.value,i(0,s)}function h(){a=this.value,i(1,a)}return r.$$set=c=>{"lat"in c&&i(0,s=c.lat),"lng"in c&&i(1,a=c.lng)},[s,a,u,h]}class Lh extends yt{constructor(e){super(),vt(this,e,Ph,xh,_t,{lat:0,lng:1})}}function Th(r){let e,i,s,a,u,h,c,d,m,_,v,b,P,A,E,N,S,z,I,D,R,M,K,et,B,Tt,ct,wt,ft,X,Et;function Ct(st){r[9](st)}function Xt(st){r[10](st)}let $={};return r[2]!==void 0&&($.lat=r[2]),r[3]!==void 0&&($.lng=r[3]),M=new Lh({props:$}),ii.push(()=>bo(M,"lat",Ct)),ii.push(()=>bo(M,"lng",Xt)),{c(){e=k("form"),i=k("div"),s=k("label"),s.textContent="Enter Category",a=O(),u=k("input"),h=O(),c=k("div"),d=k("label"),d.textContent="Enter Place",m=O(),_=k("input"),v=O(),b=k("div"),P=k("label"),P.textContent="Enter Latitude",A=O(),E=k("input"),N=O(),S=k("div"),z=k("label"),z.textContent="Enter Longitude",I=O(),D=k("input"),R=O(),ht(M.$$.fragment),B=O(),Tt=k("div"),Tt.innerHTML='<div class="control"><button class="button is-link is-dark">Add Placemark</button></div>',ct=O(),wt=k("div"),x(s,"class","label"),x(s,"for","amount"),x(u,"class","input"),x(u,"id","category"),x(u,"name","category"),x(u,"placeholder","Enter Category"),x(u,"type","text"),x(i,"class","field"),x(d,"class","label"),x(d,"for","amount"),x(_,"class","input"),x(_,"id","place"),x(_,"name","place"),x(_,"placeholder","Enter place"),x(_,"type","text"),x(c,"class","field"),x(P,"class","label"),x(P,"for","amount"),x(E,"class","input"),x(E,"id","latitude"),x(E,"name","latitude"),x(E,"placeholder","Enter latitude"),x(E,"type","text"),x(b,"class","field"),x(z,"class","label"),x(z,"for","amount"),x(D,"class","input"),x(D,"id","longitude"),x(D,"name","longitude"),x(D,"placeholder","Enter longitude"),x(D,"type","text"),x(S,"class","field"),x(Tt,"class","field"),x(wt,"class","section")},m(st,W){j(st,e,W),y(e,i),y(i,s),y(i,a),y(i,u),pt(u,r[0]),y(e,h),y(e,c),y(c,d),y(c,m),y(c,_),pt(_,r[1]),y(e,v),y(e,b),y(b,P),y(b,A),y(b,E),pt(E,r[2]),y(e,N),y(e,S),y(S,z),y(S,I),y(S,D),pt(D,r[3]),y(e,R),at(M,e,null),y(e,B),y(e,Tt),y(e,ct),y(e,wt),ft=!0,X||(Et=[At(u,"input",r[5]),At(_,"input",r[6]),At(E,"input",r[7]),At(D,"input",r[8]),At(e,"submit",tr(r[4]))],X=!0)},p(st,[W]){W&1&&u.value!==st[0]&&pt(u,st[0]),W&2&&_.value!==st[1]&&pt(_,st[1]),W&4&&E.value!==st[2]&&pt(E,st[2]),W&8&&D.value!==st[3]&&pt(D,st[3]);const ut={};!K&&W&4&&(K=!0,ut.lat=st[2],yo(()=>K=!1)),!et&&W&8&&(et=!0,ut.lng=st[3],yo(()=>et=!1)),M.$set(ut)},i(st){ft||(tt(M.$$.fragment,st),ft=!0)},o(st){it(M.$$.fragment,st),ft=!1},d(st){st&&F(e),lt(M),X=!1,Kt(Et)}}}function kh(r,e,i){const s=er(),a=ce("PlacemarkService");let u=[],h="",c="",d=52.160858,m=-7.15242;gn(async()=>{u=await a.getPointsOfInterest()});async function _(){const S=u[0].category,z=u[0].place,I={category:S,place:z,lat:d,lng:m};!await a.addPointOfInterest(I)||s("message",{pointOfInterest:I})}function v(){h=this.value,i(0,h)}function b(){c=this.value,i(1,c)}function P(){d=this.value,i(2,d)}function A(){m=this.value,i(3,m)}function E(S){d=S,i(2,d)}function N(S){m=S,i(3,m)}return[h,c,d,m,_,v,b,P,A,E,N]}class Eh extends yt{constructor(e){super(),vt(this,e,kh,Th,_t,{})}}function Ch(r){let e,i,s,a,u,h;return e=new vn({}),s=new wh({}),u=new Eh({}),{c(){ht(e.$$.fragment),i=O(),ht(s.$$.fragment),a=O(),ht(u.$$.fragment)},m(c,d){at(e,c,d),j(c,i,d),at(s,c,d),j(c,a,d),at(u,c,d),h=!0},p:G,i(c){h||(tt(e.$$.fragment,c),tt(s.$$.fragment,c),tt(u.$$.fragment,c),h=!0)},o(c){it(e.$$.fragment,c),it(s.$$.fragment,c),it(u.$$.fragment,c),h=!1},d(c){lt(e,c),c&&F(i),lt(s,c),c&&F(a),lt(u,c)}}}class Sh extends yt{constructor(e){super(),vt(this,e,null,Ch,_t,{})}}function Ah(r,e){e===void 0&&(e={});var i=e.insertAt;if(r&&typeof document!="undefined"){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}}function xe(r,e){return typeof r=="string"?(e||document).querySelector(r):r||null}function ri(r){var e=r.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function Oh(r){return r.offsetParent===null}function Mh(r){var e=r.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function zh(r){var e=window.getComputedStyle(r),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return r.clientWidth-i}function Ih(r,e,i){var s=document.createEvent("HTMLEvents");s.initEvent(e,!0,!0);for(var a in i)s[a]=i[a];return r.dispatchEvent(s)}function Yi(r){return r.titleHeight+r.margins.top+r.paddings.top}function Gi(r){return r.margins.left+r.paddings.left}function ba(r){return r.margins.top+r.margins.bottom+r.paddings.top+r.paddings.bottom+r.titleHeight+r.legendHeight}function Ki(r){return r.margins.left+r.margins.right+r.paddings.left+r.paddings.right}function Nh(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(r){return parseFloat(r.toFixed(2))}function is(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];i||(i=s?r[0]:r[r.length-1]);var a=new Array(Math.abs(e)).fill(i);return r=s?a.concat(r):r.concat(a)}function xa(r,e){return(r+"").length*e}function hn(r,e){return{x:Math.sin(r*Bo)*e,y:Math.cos(r*Bo)*e}}function un(r){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(r)&&r!==void 0&&!!Number.isFinite(r)&&!(e&&r<0)}function Dh(r){return Number(Math.round(r+"e4")+"e-4")}function Pa(r){var e=void 0,i=void 0,s=void 0;if(r instanceof Date)return new Date(r.getTime());if((r===void 0?"undefined":gf(r))!=="object"||r===null)return r;e=Array.isArray(r)?[]:{};for(s in r)i=r[s],e[s]=Pa(i);return e}function La(r,e){var i=void 0,s=void 0;return r<=e?(i=e-r,s=r):(i=r-e,s=e),[i,s]}function $t(r,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-r.length;return i>0?r=is(r,i):e=is(e,i),[r,e]}function ms(r,e){if(r)return r.length>e?r.slice(0,e-3)+"...":r}function Rh(r){var e=void 0;if(typeof r=="number")e=r;else if(typeof r=="string"&&(e=Number(r),Number.isNaN(e)))return r;var i=Math.floor(Math.log10(Math.abs(e)));if(i<=2)return e;var s=Math.floor(i/3),a=Math.pow(10,i-3*s)*+(e/Math.pow(10,i)).toFixed(1);return Math.round(100*a)/100+" "+["","K","M","B","T"][s]}function Ta(r,e){for(var i=[],s=0;s<r.length;s++)i.push([r[s],e[s]]);var a=function(h,c){var d=c[0]-h[0],m=c[1]-h[1];return{length:Math.sqrt(Math.pow(d,2)+Math.pow(m,2)),angle:Math.atan2(m,d)}},u=function(h,c,d,m){var _=a(c||h,d||h),v=_.angle+(m?Math.PI:0),b=.2*_.length;return[h[0]+Math.cos(v)*b,h[1]+Math.sin(v)*b]};return function(h,c){return h.reduce(function(d,m,_,v){return _===0?m[0]+","+m[1]:d+" "+c(m,_,v)},"")}(i,function(h,c,d){var m=u(d[c-1],d[c-2],h),_=u(h,d[c-1],d[c+1],!0);return"C "+m[0]+","+m[1]+" "+_[0]+","+_[1]+" "+h[0]+","+h[1]})}function Fr(r){return r>255?255:r<0?0:r}function _s(r,e){var i=za(r),s=!1;i[0]=="#"&&(i=i.slice(1),s=!0);var a=parseInt(i,16),u=Fr((a>>16)+e),h=Fr((a>>8&255)+e),c=Fr((255&a)+e);return(s?"#":"")+(c|h<<8|u<<16).toString(16)}function Bh(r){var e=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(r)||e.test(r)}function Ao(r,e){return typeof r=="string"?(e||document).querySelector(r):r||null}function rt(r,e){var i=document.createElementNS("http://www.w3.org/2000/svg",r);for(var s in e){var a=e[s];if(s==="inside")Ao(a).appendChild(i);else if(s==="around"){var u=Ao(a);u.parentNode.insertBefore(i,u),i.appendChild(u)}else s==="styles"?(a===void 0?"undefined":bf(a))==="object"&&Object.keys(a).map(function(h){i.style[h]=a[h]}):(s==="className"&&(s="class"),s==="innerHTML"?i.textContent=a:i.setAttribute(s,a))}return i}function Zh(r,e){return rt("linearGradient",{inside:r,id:e,x1:0,x2:0,y1:0,y2:1})}function jr(r,e,i,s){return rt("stop",{inside:r,style:"stop-color: "+i,offset:e,"stop-opacity":s})}function $h(r,e,i,s){return rt("svg",{className:e,inside:r,width:i,height:s})}function Hh(r){return rt("defs",{inside:r})}function rs(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s={className:r,transform:e};return i&&(s.inside=i),rt("g",s)}function Xi(r){return rt("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:r,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function Fh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=i.x+r.x,c=i.y+r.y,d=i.x+e.x,m=i.y+e.y;return"M"+i.x+" "+i.y+`
		L`+h+" "+c+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+" z"}function jh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=i.x+r.x,c=i.y+r.y,d=i.x+e.x,m=2*i.y,_=i.y+e.y;return"M"+i.x+" "+i.y+`
		L`+h+" "+c+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+` z
		L`+h+" "+m+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+_+" z"}function Wh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=i.x+r.x,c=i.y+r.y,d=i.x+e.x,m=i.y+e.y;return"M"+h+" "+c+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m}function Uh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=i.x+r.x,c=i.y+r.y,d=i.x+e.x,m=2*s+c,_=i.y+r.y;return"M"+h+" "+c+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+`
		M`+h+" "+m+`
		A `+s+" "+s+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+_}function Oo(r,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s="path-fill-gradient-"+e+"-"+(i?"lighter":"default"),a=Zh(r,s),u=[1,.6,.2];return i&&(u=[.4,.2,0]),jr(a,"0%",e,u[0]),jr(a,"50%",e,u[1]),jr(a,"100%",e,u[2]),s}function Gh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Oa,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return rt("rect",{className:"percentage-bar",x:r,y:e,width:i,height:s,fill:u,styles:{stroke:_s(u,-25),"stroke-dasharray":"0, "+(s+i)+", "+i+", "+s,"stroke-width":a}})}function ka(r,e,i,s,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},c={className:r,x:e,y:i,width:s,height:s,rx:a,fill:u};return Object.keys(h).map(function(d){c[d]=h[d]}),rt("rect",c)}function Vh(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?ms(a,Ia):a;var u={className:"legend-bar",x:0,y:0,width:i,height:"2px",fill:s},h=rt("text",{className:"legend-dataset-text",x:0,y:0,dy:2*kt+"px","font-size":1.2*kt+"px","text-anchor":"start",fill:gs,innerHTML:a}),c=rt("g",{transform:"translate("+r+", "+e+")"});return c.appendChild(rt("rect",u)),c.appendChild(h),c}function qh(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?ms(a,Ia):a;var u={className:"legend-dot",cx:0,cy:0,r:i,fill:s},h=rt("text",{className:"legend-dataset-text",x:0,y:0,dx:kt+"px",dy:kt/3+"px","font-size":1.2*kt+"px","text-anchor":"start",fill:gs,innerHTML:a}),c=rt("g",{transform:"translate("+r+", "+e+")"});return c.appendChild(rt("circle",u)),c.appendChild(h),c}function ei(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=a.fontSize||kt;return rt("text",{className:r,x:e,y:i,dy:(a.dy!==void 0?a.dy:u/2)+"px","font-size":u+"px",fill:a.fill||gs,"text-anchor":a.textAnchor||"start",innerHTML:s})}function Yh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=yn);var u=rt("line",{className:"line-vertical "+a.className,x1:0,x2:0,y1:i,y2:s,styles:{stroke:a.stroke}}),h=rt("text",{x:0,y:i>s?i+Pe:i-Pe-kt,dy:kt+"px","font-size":kt+"px","text-anchor":"middle",innerHTML:e+""}),c=rt("g",{transform:"translate("+r+", 0)"});return c.appendChild(u),c.appendChild(h),c}function Ea(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=yn),a.lineType||(a.lineType=""),a.shortenNumbers&&(e=Rh(e));var u=rt("line",{className:"line-horizontal "+a.className+(a.lineType==="dashed"?"dashed":""),x1:i,x2:s,y1:0,y2:0,styles:{stroke:a.stroke}}),h=rt("text",{x:i<s?i-Pe:i+Pe,y:0,dy:kt/2-2+"px","font-size":kt+"px","text-anchor":i<s?"end":"start",innerHTML:e+""}),c=rt("g",{transform:"translate(0, "+r+")","stroke-opacity":1});return h!==0&&h!=="0"||(c.style.stroke="rgba(27, 31, 35, 0.6)"),c.appendChild(u),c.appendChild(h),c}function Kh(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};un(r)||(r=0),s.pos||(s.pos="left"),s.offset||(s.offset=0),s.mode||(s.mode="span"),s.stroke||(s.stroke=yn),s.className||(s.className="");var a=-1*cn,u=s.mode==="span"?i+cn:0;return s.mode==="tick"&&s.pos==="right"&&(a=i+cn,u=i),a+=s.offset,u+=s.offset,Ea(r,e,a,u,{stroke:s.stroke,className:s.className,lineType:s.lineType,shortenNumbers:s.shortenNumbers})}function Xh(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};un(r)||(r=0),s.pos||(s.pos="bottom"),s.offset||(s.offset=0),s.mode||(s.mode="span"),s.stroke||(s.stroke=yn),s.className||(s.className="");var a=i+cn,u=s.mode==="span"?-1*cn:i;return s.mode==="tick"&&s.pos==="top"&&(a=-1*cn,u=0),Yh(r,e,a,u,{stroke:s.stroke,className:s.className,lineType:s.lineType})}function Jh(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};s.labelPos||(s.labelPos="right");var a=rt("text",{className:"chart-label",x:s.labelPos==="left"?Pe:i-xa(e,5)-Pe,y:0,dy:kt/-2+"px","font-size":kt+"px","text-anchor":"start",innerHTML:e+""}),u=Ea(r,"",0,i,{stroke:s.stroke||yn,className:s.className||"",lineType:s.lineType});return u.appendChild(a),u}function Qh(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=r-e,h=rt("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:yn,"stroke-dasharray":i+", "+u},x:0,y:0,width:i,height:u});a.labelPos||(a.labelPos="right");var c=rt("text",{className:"chart-label",x:a.labelPos==="left"?Pe:i-xa(s+"",4.5)-Pe,y:0,dy:kt/-2+"px","font-size":kt+"px","text-anchor":"start",innerHTML:s+""}),d=rt("g",{transform:"translate(0, "+e+")"});return d.appendChild(h),d.appendChild(c),d}function tc(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},d=La(e,c.zeroLine),m=yf(d,2),_=m[0],v=m[1];v-=h,_===0&&(_=c.minHeight,v-=c.minHeight),un(r)||(r=0),un(v)||(v=0),un(_,!0)||(_=0),un(i,!0)||(i=0);var b=rt("rect",{className:"bar mini",style:"fill: "+s,"data-point-index":u,x:r,y:v,width:i,height:_});if((a+="")||a.length){b.setAttribute("y",0),b.setAttribute("x",0);var P=rt("text",{className:"data-point-value",x:i/2,y:0,dy:kt/2*-1+"px","font-size":kt+"px","text-anchor":"middle",innerHTML:a}),A=rt("g",{"data-point-index":u,transform:"translate("+r+", "+v+")"});return A.appendChild(b),A.appendChild(P),A}return b}function ec(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=rt("circle",{style:"fill: "+s,"data-point-index":u,cx:r,cy:e,r:i});if((a+="")||a.length){h.setAttribute("cy",0),h.setAttribute("cx",0);var c=rt("text",{className:"data-point-value",x:0,y:0,dy:kt/2*-1-i+"px","font-size":kt+"px","text-anchor":"middle",innerHTML:a}),d=rt("g",{"data-point-index":u,transform:"translate("+r+", "+e+")"});return d.appendChild(h),d.appendChild(c),d}return h}function nc(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=e.map(function(v,b){return r[b]+","+v}).join("L");s.spline&&(u=Ta(r,e));var h=Xi("M"+u,"line-graph-path",i);if(s.heatline){var c=Oo(a.svgDefs,i);h.style.stroke="url(#"+c+")"}var d={path:h};if(s.regionFill){var m=Oo(a.svgDefs,i,!0),_="M"+r[0]+","+a.zeroLine+"L"+u+"L"+r.slice(-1)[0]+","+a.zeroLine;d.region=Xi(_,"region-fill","none","url(#"+m+")")}return d}function oi(r,e,i,s){var a=typeof e=="string"?e:e.join(", ");return[r,{transform:i.join(", ")},s,Le,"translate",{transform:a}]}function ic(r,e,i){return oi(r,[i,0],[e,0],fn)}function Mo(r,e,i){return oi(r,[0,i],[0,e],fn)}function rc(r,e,i,s){var a=e-i,u=r.childNodes[0];return[[u,{height:a,"stroke-dasharray":u.getAttribute("width")+", "+a},fn,Le],oi(r,[0,s],[0,i],fn)]}function sc(r,e,i,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=La(i,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),h=Pf(u,2),c=h[0],d=h[1];return d-=a,r.nodeName!=="rect"?[[r.childNodes[0],{width:s,height:c},si,Le],oi(r,r.getAttribute("transform").split("(")[1].slice(0,-1),[e,d],fn)]:[[r,{width:s,height:c,x:e,y:d},si,Le]]}function oc(r,e,i){return r.nodeName!=="circle"?[oi(r,r.getAttribute("transform").split("(")[1].slice(0,-1),[e,i],fn)]:[[r,{cx:e,cy:i},si,Le]]}function ac(r,e,i,s,a){var u=[],h=i.map(function(v,b){return e[b]+","+v}).join("L");a&&(h=Ta(e,i));var c=[r.path,{d:"M"+h},Zo,Le];if(u.push(c),r.region){var d=e[0]+","+s+"L",m="L"+e.slice(-1)[0]+", "+s,_=[r.region,{d:"M"+d+h+m},Zo,Le];u.push(_)}return u}function zo(r,e){return[r,{d:e},si,Le]}function lc(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function uc(r,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=r.cloneNode(!0),c=r.cloneNode(!0);for(var d in e){var m=void 0;m=d==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var _=u[d]||r.getAttribute(d),v=e[d],b={attributeName:d,from:_,to:v,begin:"0s",dur:i/1e3+"s",values:_+";"+v,keySplines:kf[s],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};a&&(b.type=a);for(var P in b)m.setAttribute(P,b[P]);h.appendChild(m),a?c.setAttribute(d,"translate("+v+")"):c.setAttribute(d,v)}return[h,c]}function Ji(r,e){r.style.transform=e,r.style.webkitTransform=e,r.style.msTransform=e,r.style.mozTransform=e,r.style.oTransform=e}function hc(r,e){var i=[],s=[];e.map(function(u){var h=u[0],c=h.parentNode,d=void 0,m=void 0;u[0]=h;var _=uc.apply(void 0,lc(u)),v=Tf(_,2);d=v[0],m=v[1],i.push(m),s.push([d,c]),c&&c.replaceChild(d,h)});var a=r.cloneNode(!0);return s.map(function(u,h){u[1]&&(u[1].replaceChild(i[h],u[0]),e[h][0]=i[h])}),a}function cc(r,e,i){if(i.length!==0){var s=hc(e,i);e.parentNode==r&&(r.removeChild(e),r.appendChild(s)),setTimeout(function(){s.parentNode==r&&(r.removeChild(s),r.appendChild(e))},Lf)}}function fc(r,e){var i=document.createElement("a");i.style="display: none";var s=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),a=window.URL.createObjectURL(s);i.href=a,i.download=r,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(a)},300)}function dc(r){var e=r.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var i=xe.create("style",{innerHTML:Ef});e.insertBefore(i,e.firstChild);var s=xe.create("div");return s.appendChild(e),s.innerHTML}function pc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _c(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function gc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Io(r){var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function Wr(r){var e=r.getDate(),i=r.getMonth()+1;return[r.getFullYear(),(i>9?"":"0")+i,(e>9?"":"0")+e].join("-")}function ze(r){return new Date(r.getTime())}function Ur(r,e){var i=Sa(r);return Math.ceil(vc(i,e)/ti)}function vc(r,e){var i=Of*Na;return(Io(e)-Io(r))/i}function yc(r,e){return r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()}function Ca(r){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=Mf[r];return e?i.slice(0,3):i}function No(r,e){return new Date(e,r+1,0)}function Sa(r){var e=ze(r),i=e.getDay();return i!==0&&an(e,-1*i),e}function an(r,e){r.setDate(r.getDate()+e)}function bc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(r,e,i){var s=Object.keys(Ho).filter(function(u){return r.includes(u)}),a=Ho[s[0]];return Object.assign(a,{constants:e,getData:i}),new Nf(a)}function wc(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function xc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Pc(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Lc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Tc(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function kc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ec(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Cc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function ss(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function Qn(r){if(r===0)return[0,0];if(isNaN(r))return{mantissa:-6755399441055744,exponent:972};var e=r>0?1:-1;if(!isFinite(r))return{mantissa:4503599627370496*e,exponent:972};r=Math.abs(r);var i=Math.floor(Math.log10(r));return[e*(r/Math.pow(10,i)),i]}function Sc(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Math.ceil(r),s=Math.floor(e),a=i-s,u=a,h=1;a>5&&(a%2!=0&&(a=++i-s),u=a/2,h=2),a<=2&&(h=a/(u=4)),a===0&&(u=5,h=1);for(var c=[],d=0;d<=u;d++)c.push(s+h*d);return c}function Yn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Qn(r),s=Hf(i,2),a=s[0],u=s[1],h=e?e/Math.pow(10,u):0,c=Sc(a=a.toFixed(6),h);return c=c.map(function(d){return d*Math.pow(10,u)})}function Ac(r){function e(m,_){for(var v=Yn(m),b=v[1]-v[0],P=0,A=1;P<_;A++)P+=b,v.unshift(-1*P);return v}var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=Math.max.apply(Math,ss(r)),a=Math.min.apply(Math,ss(r)),u=[];if(s>=0&&a>=0)Qn(s)[1],u=i?Yn(s,a):Yn(s);else if(s>0&&a<0){var h=Math.abs(a);s>=h?(Qn(s)[1],u=e(s,h)):(Qn(h)[1],u=e(h,s).reverse().map(function(m){return-1*m}))}else if(s<=0&&a<=0){var c=Math.abs(a),d=Math.abs(s);Qn(c)[1],u=(u=i?Yn(c,d):Yn(c)).reverse().map(function(m){return-1*m})}return u}function Oc(r){var e=Aa(r);return r.indexOf(0)>=0?r.indexOf(0):r[0]>0?-1*r[0]/e:-1*r[r.length-1]/e+(r.length-1)}function Aa(r){return r[1]-r[0]}function Mc(r){return r[r.length-1]-r[0]}function Fi(r,e){return wa(e.zeroLine-r*e.scaleMultiplier)}function zc(r,e){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=e.reduce(function(a,u){return Math.abs(u-r)<Math.abs(a-r)?u:a},[]);return i?e.indexOf(s):s}function Ic(r,e){for(var i=Math.max.apply(Math,ss(r)),s=1/(e-1),a=[],u=0;u<e;u++){var h=i*(s*u);a.push(h)}return a}function Nc(r,e){return e.filter(function(i){return i<r}).length}function Dc(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function Rc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Zc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function $c(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function Hc(r,e){r.labels=r.labels||[];var i=r.labels.length,s=r.datasets,a=new Array(i).fill(0);return s||(s=[{values:a}]),s.map(function(u){if(u.values){var h=u.values;h=(h=h.map(function(c){return isNaN(c)?0:c})).length>i?h.slice(0,i):is(h,i-h.length,0),u.values=h}else u.values=a;u.chartType||(u.chartType=e)}),r.yRegions&&r.yRegions.map(function(u){if(u.end<u.start){var h=[u.end,u.start];u.start=h[0],u.end=h[1]}}),r}function Fc(r){var e=r.labels.length,i=new Array(e).fill(0),s={labels:r.labels.slice(0,-1),datasets:r.datasets.map(function(a){return{name:"",values:i.slice(0,-1),chartType:a.chartType}})};return r.yMarkers&&(s.yMarkers=[{value:0,label:""}]),r.yRegions&&(s.yRegions=[{start:0,end:0,label:""}]),s}function jc(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=r/e.length;s<=0&&(s=1);var a=s/cf,u=void 0;if(i){var h=Math.max.apply(Math,$c(e.map(function(c){return c.length})));u=Math.ceil(h/a)}return e.map(function(c,d){return(c+="").length>a&&(i?d%u!=0&&(c=""):c=a-3>0?c.slice(0,a-3)+" ...":c.slice(0,a)+".."),c})}function Do(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function Wc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Uc(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Gc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Vc(r){if(Array.isArray(r)){for(var e=0,i=Array(r.length);e<r.length;e++)i[e]=r[e];return i}return Array.from(r)}function qc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yc(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?r:e}function Kc(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}function Xc(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Jc(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",e=arguments[1],i=arguments[2];return r==="axis-mixed"?(i.type="line",new os(e,i)):Wo[r]?new Wo[r](e,i):void console.error("Undefined chart type: "+r)}var Qc='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';Ah(Qc);var tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};xe.create=function(r,e){var i=document.createElement(r);for(var s in e){var a=e[s];if(s==="inside")xe(a).appendChild(i);else if(s==="around"){var u=xe(a);u.parentNode.insertBefore(i,u),i.appendChild(u)}else s==="styles"?(a===void 0?"undefined":tf(a))==="object"&&Object.keys(a).map(function(h){i.style[h]=a[h]}):s in i?i[s]=a:i.setAttribute(s,a)}return i};var ef={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},nf=700,rf=400,sf=100,of=.5,af=0,lf=4,Ro=4,uf=20,Oa=2,Gr=5,ln=10,hf=2,cf=7,ff=5,Kn=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],df=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],pf={bar:Kn,line:Kn,pie:Kn,percentage:Kn,heatmap:df,donut:Kn},Bo=Math.PI/180,Ma=360,mf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),_f=function(){function r(e){var i=e.parent,s=i===void 0?null:i,a=e.colors,u=a===void 0?[]:a;Nh(this,r),this.parent=s,this.colors=u,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return mf(r,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=xe.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e=this,i=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),i=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=i,this.dataPointList.innerHTML="",this.listValues.map(function(s,a){var u=e.colors[a]||"black",h=s.formatted===0||s.formatted?s.formatted:s.value,c=xe.create("li",{styles:{"border-top":"3px solid "+u},innerHTML:'<strong style="display: block;">'+(h===0||h?h:"")+`</strong>
					`+(s.title?s.title:"")});e.dataPointList.appendChild(c)})}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-ff,this.left=this.x-e/2;var i=this.parent.offsetWidth-e,s=this.container.querySelector(".svg-pointer");if(this.left<0)s.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>i){var a="calc(50% + "+(this.left-i)+"px)";s.style.left=a,this.left=i}else s.style.left="50%"}},{key:"setValues",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=s.name,this.titleValue=s.value,this.listValues=a,this.x=e,this.y=i,this.titleValueFirst=s.valueFirst||0,this.index=u,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),r}(),gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vf={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},za=function(r){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(r)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(r).map(function(e,i){return i!==0?Number(e).toString(16):"#"}).reduce(function(e,i){return""+e+i}):vf[r]||r},yf=function(){function r(e,i){var s=[],a=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done)&&(s.push(c.value),!i||s.length!==i);a=!0);}catch(m){u=!0,h=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw h}}return s}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cn=6,Pe=4,Ia=15,kt=10,yn="#dadada",gs="#555b51",wf={bar:function(r){var e=void 0;r.nodeName!=="rect"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var i=r.cloneNode();return i.style.fill="#000000",i.style.opacity="0.4",e&&i.setAttribute("transform",e),i},dot:function(r){var e=void 0;r.nodeName!=="circle"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var i=r.cloneNode(),s=r.getAttribute("r"),a=r.getAttribute("fill");return i.setAttribute("r",parseInt(s)+Ro),i.setAttribute("fill",a),i.style.opacity="0.6",e&&i.setAttribute("transform",e),i},heat_square:function(r){var e=void 0;r.nodeName!=="circle"&&(e=r.getAttribute("transform"),r=r.childNodes[0]);var i=r.cloneNode(),s=r.getAttribute("r"),a=r.getAttribute("fill");return i.setAttribute("r",parseInt(s)+Ro),i.setAttribute("fill",a),i.style.opacity="0.6",e&&i.setAttribute("transform",e),i}},xf={bar:function(r,e){var i=void 0;r.nodeName!=="rect"&&(i=r.getAttribute("transform"),r=r.childNodes[0]);var s=["x","y","width","height"];Object.values(r.attributes).filter(function(a){return s.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),i&&e.setAttribute("transform",i)},dot:function(r,e){var i=void 0;r.nodeName!=="circle"&&(i=r.getAttribute("transform"),r=r.childNodes[0]);var s=["cx","cy"];Object.values(r.attributes).filter(function(a){return s.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),i&&e.setAttribute("transform",i)},heat_square:function(r,e){var i=void 0;r.nodeName!=="circle"&&(i=r.getAttribute("transform"),r=r.childNodes[0]);var s=["cx","cy"];Object.values(r.attributes).filter(function(a){return s.includes(a.name)&&a.specified}).map(function(a){e.setAttribute(a.name,a.nodeValue)}),i&&e.setAttribute("transform",i)}},Pf=function(){function r(e,i){var s=[],a=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done)&&(s.push(c.value),!i||s.length!==i);a=!0);}catch(m){u=!0,h=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw h}}return s}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),si=350,Zo=350,fn=si,Lf=250,Le="easein",Tf=function(){function r(e,i){var s=[],a=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done)&&(s.push(c.value),!i||s.length!==i);a=!0);}catch(m){u=!0,h=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw h}}return s}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kf={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},Ef=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Cf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),vs=function(){function r(e,i){if(pc(this,r),i=Pa(i),this.parent=typeof e=="string"?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=i,this.title=i.title||"",this.type=i.type||"",this.realData=this.prepareData(i.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(i.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:i.isNavigable||0,animate:i.animate!==void 0?i.animate:1,truncateLegends:i.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(ef));var s=this.measures;this.setMeasures(i),this.title.length||(s.titleHeight=0),this.config.showLegend||(s.legendHeight=0),this.argHeight=i.height||s.baseHeight,this.state={},this.options={},this.initTimeout=nf,this.config.isNavigable&&(this.overlays=[]),this.configure(i)}return Cf(r,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,i){var s=[];return(e=(e||[]).concat(pf[i])).forEach(function(a){var u=za(a);Bh(u)?s.push(u):console.warn('"'+a+'" is not a valid color.')}),s}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,i=this.argHeight;this.baseHeight=i,this.height=i-ba(this.measures),this.boundDrawFn=function(){return e.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=xe.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new _f({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i&&Oh(this.parent)||(this.updateWidth(),this.calc(i),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(a){return a.setup(e.drawArea)}),this.render(this.components,!1),s&&(this.data=this.realData,setTimeout(function(){e.update(e.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(s))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=zh(this.parent),this.width=this.baseWidth-Ki(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=$h(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=Hh(this.svg),this.title.length&&(this.titleEL=ei("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var i=Yi(e);this.drawArea=rs(this.type+"-chart chart-draw-area","translate("+Gi(e)+", "+i+")"),this.config.showLegend&&(i+=this.height+e.paddings.bottom,this.legendArea=rs("chart-legend","translate("+Gi(e)+", "+i+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(Gi(e),Yi(e))}},{key:"updateTipOffset",value:function(e,i){this.tip.offset={x:e,y:i}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(u){return u.parentNode.removeChild(u)});var a=[];i.forEach(function(u){a=a.concat(u.update(s))}),a.length>0?(cc(this.container,this.svg,a),setTimeout(function(){i.forEach(function(u){return u.make()}),e.updateNav()},rf)):(i.forEach(function(u){return u.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&i&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(s){Mh(e.container)&&(s=s||window.event,e.keyActions[s.keyCode]&&e.keyActions[s.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=dc(this.svg);fc(this.title||"Chart",[e])}}]),r}(),Sf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Af=function r(e,i,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,i,s)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(s)},ys=function(r){function e(i,s){return mc(this,e),_c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s))}return gc(e,r),Sf(e,[{key:"configure",value:function(i){Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,i),this.config.formatTooltipY=(i.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=i.maxSlices||20,this.config.maxLegendPoints=i.maxLegendPoints||20}},{key:"calc",value:function(){var i=this,s=this.state,a=this.config.maxSlices;s.sliceTotals=[];var u=this.data.labels.map(function(d,m){var _=0;return i.data.datasets.map(function(v){_+=v.values[m]}),[_,d]}).filter(function(d){return d[0]>=0}),h=u;if(u.length>a){u.sort(function(d,m){return m[0]-d[0]}),h=u.slice(0,a-1);var c=0;u.slice(a-1).map(function(d){c+=d[0]}),h.push([c,"Rest"]),this.colors[a-1]="grey"}s.labels=[],h.map(function(d){s.sliceTotals.push(Dh(d[0])),s.labels.push(d[1])}),s.grandTotal=s.sliceTotals.reduce(function(d,m){return d+m},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var i=this,s=this.state;this.legendArea.textContent="",this.legendTotals=s.sliceTotals.slice(0,this.config.maxLegendPoints);var a=0,u=0;this.legendTotals.map(function(h,c){var d=150,m=Math.floor((i.width-Ki(i.measures))/d);i.legendTotals.length<m&&(d=i.width/i.legendTotals.length),a>m&&(a=0,u+=20);var _=d*a+5,v=i.config.truncateLegends?ms(s.labels[c],d/10):s.labels[c],b=i.config.formatTooltipY?i.config.formatTooltipY(h):h,P=qh(_,u,5,i.colors[c],v+": "+b,!1);i.legendArea.appendChild(P),a++})}}]),e}(vs),$o=12,ti=7,Na=1e3,Of=86400,Mf=["January","February","March","April","May","June","July","August","September","October","November","December"],zf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ht=function(){function r(e,i){var s=[],a=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done)&&(s.push(c.value),!i||s.length!==i);a=!0);}catch(m){u=!0,h=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw h}}return s}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),If=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Nf=function(){function r(e){var i=e.layerClass,s=i===void 0?"":i,a=e.layerTransform,u=a===void 0?"":a,h=e.constants,c=e.getData,d=e.makeElements,m=e.animateElements;bc(this,r),this.layerTransform=u,this.constants=h,this.makeElements=d,this.getData=c,this.animateElements=m,this.store=[],this.labels=[],this.layerClass=s,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return If(r,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=rs(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var i=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach(function(s){i.layer.appendChild(s)}),this.labels.forEach(function(s){i.layer.appendChild(s)})}},{key:"update",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var i=[];return e&&(i=this.animateElements(this.data)||[]),i}}]),r}(),Ho={donutSlices:{layerClass:"donut-slices",makeElements:function(r){return r.sliceStrings.map(function(e,i){var s=Xi(e,"donut-path",r.colors[i],"none",r.strokeWidth);return s.style.transition="transform .3s;",s})},animateElements:function(r){return this.store.map(function(e,i){return zo(e,r.sliceStrings[i])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(r){return r.sliceStrings.map(function(e,i){var s=Xi(e,"pie-path","none",r.colors[i]);return s.style.transition="transform .3s;",s})},animateElements:function(r){return this.store.map(function(e,i){return zo(e,r.sliceStrings[i])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(r){var e=this;return r.xPositions.map(function(i,s){return Gh(i,0,r.widths[s],e.constants.barHeight,e.constants.barDepth,r.colors[s])})},animateElements:function(r){if(r)return[]}},yAxis:{layerClass:"y axis",makeElements:function(r){var e=this;return r.positions.map(function(i,s){return Kh(i,r.labels[s],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})})},animateElements:function(r){var e=r.positions,i=r.labels,s=this.oldData.positions,a=this.oldData.labels,u=$t(s,e),h=Ht(u,2);s=h[0],e=h[1];var c=$t(a,i),d=Ht(c,2);return a=d[0],i=d[1],this.render({positions:s,labels:i}),this.store.map(function(m,_){return Mo(m,e[_],s[_])})}},xAxis:{layerClass:"x axis",makeElements:function(r){var e=this;return r.positions.map(function(i,s){return Xh(i,r.calcLabels[s],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(r){var e=r.positions,i=r.calcLabels,s=this.oldData.positions,a=this.oldData.calcLabels,u=$t(s,e),h=Ht(u,2);s=h[0],e=h[1];var c=$t(a,i),d=Ht(c,2);return a=d[0],i=d[1],this.render({positions:s,calcLabels:i}),this.store.map(function(m,_){return ic(m,e[_],s[_])})}},yMarkers:{layerClass:"y-markers",makeElements:function(r){var e=this;return r.map(function(i){return Jh(i.position,i.label,e.constants.width,{labelPos:i.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(r){var e=$t(this.oldData,r),i=Ht(e,2);this.oldData=i[0];var s=(r=i[1]).map(function(c){return c.position}),a=r.map(function(c){return c.label}),u=r.map(function(c){return c.options}),h=this.oldData.map(function(c){return c.position});return this.render(h.map(function(c,d){return{position:h[d],label:a[d],options:u[d]}})),this.store.map(function(c,d){return Mo(c,s[d],h[d])})}},yRegions:{layerClass:"y-regions",makeElements:function(r){var e=this;return r.map(function(i){return Qh(i.startPos,i.endPos,e.constants.width,i.label,{labelPos:i.options.labelPos})})},animateElements:function(r){var e=$t(this.oldData,r),i=Ht(e,2);this.oldData=i[0];var s=(r=i[1]).map(function(_){return _.endPos}),a=r.map(function(_){return _.label}),u=r.map(function(_){return _.startPos}),h=r.map(function(_){return _.options}),c=this.oldData.map(function(_){return _.endPos}),d=this.oldData.map(function(_){return _.startPos});this.render(c.map(function(_,v){return{startPos:d[v],endPos:c[v],label:a[v],options:h[v]}}));var m=[];return this.store.map(function(_,v){m=m.concat(rc(_,u[v],s[v],c[v]))}),m}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(r){var e=this,i=this.constants,s=i.index,a=i.colWidth,u=i.rowHeight,h=i.squareSize,c=i.radius,d=i.xTranslate,m=0;return this.serializedSubDomains=[],r.cols.map(function(_,v){v===1&&e.labels.push(ei("domain-name",d,-12,Ca(s,!0).toUpperCase(),{fontSize:9})),_.map(function(b,P){if(b.fill){var A={"data-date":b.yyyyMmDd,"data-value":b.dataValue,"data-day":P},E=ka("day",d,m,h,c,b.fill,A);e.serializedSubDomains.push(E)}m+=u}),m=0,d+=a}),this.serializedSubDomains},animateElements:function(r){if(r)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(r){var e=this.constants;return this.unitType="bar",this.units=r.yPositions.map(function(i,s){return tc(r.xPositions[s],i,r.barWidth,e.color,r.labels[s],s,r.offsets[s],{zeroLine:r.zeroLine,barsWidth:r.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(r){var e=r.xPositions,i=r.yPositions,s=r.offsets,a=r.labels,u=this.oldData.xPositions,h=this.oldData.yPositions,c=this.oldData.offsets,d=this.oldData.labels,m=$t(u,e),_=Ht(m,2);u=_[0],e=_[1];var v=$t(h,i),b=Ht(v,2);h=b[0],i=b[1];var P=$t(c,s),A=Ht(P,2);c=A[0],s=A[1];var E=$t(d,a),N=Ht(E,2);d=N[0],a=N[1],this.render({xPositions:u,yPositions:h,offsets:c,labels:a,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var S=[];return this.store.map(function(z,I){S=S.concat(sc(z,e[I],i[I],r.barWidth,s[I],{zeroLine:r.zeroLine}))}),S}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(r){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=nc(r.xPositions,r.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:r.zeroLine})),this.units=[],e.hideDots||(this.units=r.yPositions.map(function(i,s){return ec(r.xPositions[s],i,r.radius,e.color,e.valuesOverPoints?r.values[s]:"",s)})),Object.values(this.paths).concat(this.units)},animateElements:function(r){var e=r.xPositions,i=r.yPositions,s=r.values,a=this.oldData.xPositions,u=this.oldData.yPositions,h=this.oldData.values,c=$t(a,e),d=Ht(c,2);a=d[0],e=d[1];var m=$t(u,i),_=Ht(m,2);u=_[0],i=_[1];var v=$t(h,s),b=Ht(v,2);h=b[0],s=b[1],this.render({xPositions:a,yPositions:u,values:s,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var P=[];return Object.keys(this.paths).length&&(P=P.concat(ac(this.paths,e,i,r.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(A,E){P=P.concat(oc(A,e[E],i[E]))}),P}}},Df=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Rf=function r(e,i,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,i,s)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(s)},Bf=function(r){function e(i,s){xc(this,e);var a=Pc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s));return a.type="percentage",a.setup(),a}return Lc(e,r),Df(e,[{key:"setMeasures",value:function(i){var s=this.measures;this.barOptions=i.barOptions||{};var a=this.barOptions;a.height=a.height||uf,a.depth=a.depth||Oa,s.paddings.right=30,s.legendHeight=60,s.baseHeight=8*(a.height+.5*a.depth)}},{key:"setupComponents",value:function(){var i=this.state,s=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:i.xPositions,widths:i.widths,colors:this.colors}}.bind(this)]];this.components=new Map(s.map(function(a){var u=ai.apply(void 0,wc(a));return[a[0],u]}))}},{key:"calc",value:function(){var i=this;Rf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var s=this.state;s.xPositions=[],s.widths=[];var a=0;s.sliceTotals.map(function(u){var h=i.width*u/s.grandTotal;s.widths.push(h),s.xPositions.push(a),a+=h})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var i=this,s=this.state;this.container.addEventListener("mousemove",function(a){var u=i.components.get("percentageBars").store,h=a.target;if(u.includes(h)){var c=u.indexOf(h),d=ri(i.container),m=ri(h),_=m.left-d.left+parseInt(h.getAttribute("width"))/2,v=m.top-d.top,b=(i.formattedLabels&&i.formattedLabels.length>0?i.formattedLabels[c]:i.state.labels[c])+": ",P=s.sliceTotals[c]/s.grandTotal;i.tip.setValues(_,v,{name:b,value:(100*P).toFixed(1)+"%"}),i.tip.showTip()}})}}]),e}(ys),Zf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Fo=function r(e,i,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,i,s)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(s)},$f=function(r){function e(i,s){kc(this,e);var a=Ec(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s));return a.type="pie",a.initTimeout=0,a.init=1,a.setup(),a}return Cc(e,r),Zf(e,[{key:"configure",value:function(i){Fo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,i),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=i.hoverRadio||.1,this.config.startAngle=i.startAngle||0,this.clockWise=i.clockWise||!1}},{key:"calc",value:function(){var i=this;Fo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var s=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var a=this.radius,u=this.clockWise,h=s.slicesProperties||[];s.sliceStrings=[],s.slicesProperties=[];var c=180-this.config.startAngle;s.sliceTotals.map(function(d,m){var _=c,v=d/s.grandTotal*Ma,b=v>180?1:0,P=u?-v:v,A=c+=P,E=hn(_,a),N=hn(A,a),S=i.init&&h[m],z=void 0,I=void 0;i.init?(z=S?S.startPosition:E,I=S?S.endPosition:E):(z=E,I=N);var D=v===360?jh(z,I,i.center,i.radius,u,b):Fh(z,I,i.center,i.radius,u,b);s.sliceStrings.push(D),s.slicesProperties.push({startPosition:E,endPosition:N,value:d,total:s.grandTotal,startAngle:_,endAngle:A,angle:P})}),this.init=0}},{key:"setupComponents",value:function(){var i=this.state,s=[["pieSlices",{},function(){return{sliceStrings:i.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(s.map(function(a){var u=ai.apply(void 0,Tc(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(i){var s=this.radius,a=this.hoverRadio,u=hn(i.startAngle+i.angle/2,s);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(i,s,a,u){if(i){var h=this.colors[s];if(a){Ji(i,this.calTranslateByAngle(this.state.slicesProperties[s])),i.style.fill=_s(h,50);var c=ri(this.svg),d=u.pageX-c.left+10,m=u.pageY-c.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[s]:this.state.labels[s])+": ",v=(100*this.state.sliceTotals[s]/this.state.grandTotal).toFixed(1);this.tip.setValues(d,m,{name:_,value:v+"%"}),this.tip.showTip()}else Ji(i,"translate3d(0,0,0)"),this.tip.hideTip(),i.style.fill=h}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(i){var s=i.target,a=this.components.get("pieSlices").store,u=this.curActiveSliceIndex,h=this.curActiveSlice;if(a.includes(s)){var c=a.indexOf(s);this.hoverSlice(h,u,!1),this.curActiveSlice=s,this.curActiveSliceIndex=c,this.hoverSlice(s,c,!0,i)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(ys),Hf=function(){function r(e,i){var s=[],a=!0,u=!1,h=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done)&&(s.push(c.value),!i||s.length!==i);a=!0);}catch(m){u=!0,h=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw h}}return s}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ff=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Yt=ln+hf,rn=Yt,jf=function(r){function e(i,s){Rc(this,e);var a=Bc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s));a.type="heatmap",a.countLabel=s.countLabel||"";var u=["Sunday","Monday"],h=u.includes(s.startSubDomain)?s.startSubDomain:"Sunday";return a.startSubDomainIndex=u.indexOf(h),a.setup(),a}return Zc(e,r),Ff(e,[{key:"setMeasures",value:function(i){var s=this.measures;this.discreteDomains=i.discreteDomains===0?0:1,s.paddings.top=3*rn,s.paddings.bottom=0,s.legendHeight=2*rn,s.baseHeight=rn*ti+ba(s);var a=this.data,u=this.discreteDomains?$o:0;this.independentWidth=(Ur(a.start,a.end)+u)*Yt+Ki(s)}},{key:"updateWidth",value:function(){var i=this.discreteDomains?$o:0,s=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(s+i)*Yt+Ki(this.measures)}},{key:"prepareData",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(i.start&&i.end&&i.start>i.end)throw new Error("Start date cannot be greater than end date.");if(i.start||(i.start=new Date,i.start.setFullYear(i.start.getFullYear()-1)),i.end||(i.end=new Date),i.dataPoints=i.dataPoints||{},parseInt(Object.keys(i.dataPoints)[0])>1e5){var s={};Object.keys(i.dataPoints).forEach(function(a){var u=new Date(a*Na);s[Wr(u)]=i.dataPoints[a]}),i.dataPoints=s}return i}},{key:"calc",value:function(){var i=this.state;i.start=ze(this.data.start),i.end=ze(this.data.end),i.firstWeekStart=ze(i.start),i.noOfWeeks=Ur(i.start,i.end),i.distribution=Ic(Object.values(this.data.dataPoints),Gr),i.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var i=this,s=this.state,a=this.discreteDomains?0:1,u=s.domainConfigs.map(function(c,d){return["heatDomain",{index:c.index,colWidth:Yt,rowHeight:rn,squareSize:ln,radius:i.rawChartArgs.radius||0,xTranslate:s.domainConfigs.filter(function(m,_){return _<d}).map(function(m){return m.cols.length-a}).reduce(function(m,_){return m+_},0)*Yt},function(){return s.domainConfigs[d]}.bind(i)]});this.components=new Map(u.map(function(c,d){var m=ai.apply(void 0,Dc(c));return[c[0]+"-"+d,m]}));var h=0;zf.forEach(function(c,d){if([1,3,5].includes(d)){var m=ei("subdomain-name",-Yt/2,h,c,{fontSize:ln,dy:8,textAnchor:"end"});i.drawArea.appendChild(m)}h+=rn})}},{key:"update",value:function(i){i||console.error("No data to update."),this.data=this.prepareData(i),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var i=this;this.container.addEventListener("mousemove",function(s){i.components.forEach(function(a){var u=a.store,h=s.target;if(u.includes(h)){var c=h.getAttribute("data-value"),d=h.getAttribute("data-date").split("-"),m=Ca(parseInt(d[1])-1,!0),_=i.container.getBoundingClientRect(),v=h.getBoundingClientRect(),b=parseInt(s.target.getAttribute("width")),P=v.left-_.left+b/2,A=v.top-_.top,E=c+" "+i.countLabel,N=" on "+m+" "+d[0]+", "+d[2];i.tip.setValues(P,A,{name:N,value:E,valueFirst:1},[]),i.tip.showTip()}})})}},{key:"renderLegend",value:function(){var i=this;this.legendArea.textContent="";var s=0,a=rn,u=this.rawChartArgs.radius||0,h=ei("subdomain-name",s,a,"Less",{fontSize:ln+1,dy:9});s=2*Yt+Yt/2,this.legendArea.appendChild(h),this.colors.slice(0,Gr).map(function(d,m){var _=ka("heatmap-legend-unit",s+(Yt+3)*m,a,ln,u,d);i.legendArea.appendChild(_)});var c=ei("subdomain-name",s+Gr*(Yt+3)+Yt/4,a,"More",{fontSize:ln+1,dy:9});this.legendArea.appendChild(c)}},{key:"getDomains",value:function(){for(var i=this.state,s=[i.start.getMonth(),i.start.getFullYear()],a=s[0],u=s[1],h=[i.end.getMonth(),i.end.getFullYear()],c=h[0]-a+1+12*(h[1]-u),d=[],m=ze(i.start),_=0;_<c;_++){var v=i.end;if(!yc(m,i.end)){var b=[m.getMonth(),m.getFullYear()];v=No(b[0],b[1])}d.push(this.getDomainConfig(m,v)),an(v,1),m=v}return d}},{key:"getDomainConfig",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=[i.getMonth(),i.getFullYear()],u=a[0],h=a[1],c=Sa(i),d={index:u,cols:[]};an(s=ze(s)||No(u,h),1);for(var m=Ur(c,s),_=[],v=void 0,b=0;b<m;b++)v=this.getCol(c,u),_.push(v),an(c=new Date(v[ti-1].yyyyMmDd),1);return v[ti-1].dataValue!==void 0&&(an(c,1),_.push(this.getCol(c,u,!0))),d.cols=_,d}},{key:"getCol",value:function(i,s){for(var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=this.state,h=ze(i),c=[],d=0;d<ti;d++,an(h,1)){var m={},_=h>=u.start&&h<=u.end;a||h.getMonth()!==s||!_?m.yyyyMmDd=Wr(h):m=this.getSubDomainConfig(h),c.push(m)}return c}},{key:"getSubDomainConfig",value:function(i){var s=Wr(i),a=this.data.dataPoints[s];return{yyyyMmDd:s,dataValue:a||0,fill:this.colors[Nc(a,this.state.distribution)]}}}]),e}(vs),Wf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),Vr=function r(e,i,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,i,s)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(s)},os=function(r){function e(i,s){Wc(this,e);var a=Uc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s));return a.barOptions=s.barOptions||{},a.lineOptions=s.lineOptions||{},a.type=s.type||"line",a.init=1,a.setup(),a}return Gc(e,r),Wf(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(i){Vr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,i),i.axisOptions=i.axisOptions||{},i.tooltipOptions=i.tooltipOptions||{},this.config.xAxisMode=i.axisOptions.xAxisMode||"span",this.config.yAxisMode=i.axisOptions.yAxisMode||"span",this.config.xIsSeries=i.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=i.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=i.tooltipOptions.formatTooltipX,this.config.formatTooltipY=i.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=i.valuesOverPoints}},{key:"prepareData",value:function(){return Hc(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return Fc(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),i||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var i=this.state,s=this.data.labels;i.datasetLength=s.length,i.unitWidth=this.width/i.datasetLength,i.xOffset=i.unitWidth/2,i.xAxis={labels:s,positions:s.map(function(a,u){return wa(i.xOffset+u*i.unitWidth)})}}},{key:"calcYAxisParameters",value:function(i){var s=Ac(i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),a=this.height/Mc(s),u=Aa(s)*a,h=this.height-Oc(s)*u;this.state.yAxis={labels:s,positions:s.map(function(c){return h-c*a}),scaleMultiplier:a,zeroLine:h},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var i=this.state,s=function(a){return a.map(function(u){return Fi(u,i.yAxis)})};i.datasets=this.data.datasets.map(function(a,u){var h=a.values,c=a.cumulativeYs||[];return{name:a.name&&a.name.replace(/<|>|&/g,function(d){return d=="&"?"&amp;":d=="<"?"&lt;":"&gt;"}),index:u,chartType:a.chartType,values:h,yPositions:s(h),cumulativeYs:c,cumulativeYPos:s(c)}})}},{key:"calcYExtremes",value:function(){var i=this.state;if(this.barOptions.stacked)return void(i.yExtremes=i.datasets[i.datasets.length-1].cumulativeYPos);i.yExtremes=new Array(i.datasetLength).fill(9999),i.datasets.map(function(s){s.yPositions.map(function(a,u){a<i.yExtremes[u]&&(i.yExtremes[u]=a)})})}},{key:"calcYRegions",value:function(){var i=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(s){return s.position=Fi(s.value,i.yAxis),s.options||(s.options={}),s})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(s){return s.startPos=Fi(s.start,i.yAxis),s.endPos=Fi(s.end,i.yAxis),s.options||(s.options={}),s}))}},{key:"getAllYValues",value:function(){var i,s=this,a="values";if(this.barOptions.stacked){a="cumulativeYs";var u=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(c,d){var m=s.data.datasets[d].values;c[a]=u=u.map(function(_,v){return _+m[v]})})}var h=this.data.datasets.map(function(c){return c[a]});return this.data.yMarkers&&h.push(this.data.yMarkers.map(function(c){return c.value})),this.data.yRegions&&this.data.yRegions.map(function(c){h.push([c.end,c.start])}),(i=[]).concat.apply(i,Do(h))}},{key:"setupComponents",value:function(){var i=this,s=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var _=this.state;return _.xAxis.calcLabels=jc(this.width,_.xAxis.labels,this.config.xIsSeries),_.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],a=this.state.datasets.filter(function(_){return _.chartType==="bar"}),u=this.state.datasets.filter(function(_){return _.chartType==="line"}),h=a.map(function(_){var v=_.index;return["barGraph-"+_.index,{index:v,color:i.colors[v],stacked:i.barOptions.stacked,valuesOverPoints:i.config.valuesOverPoints,minHeight:i.height*af},function(){var b=this.state,P=b.datasets[v],A=this.barOptions.stacked,E=this.barOptions.spaceRatio||of,N=b.unitWidth*(1-E),S=N/(A?1:a.length),z=b.xAxis.positions.map(function(R){return R-N/2});A||(z=z.map(function(R){return R+S*v}));var I=new Array(b.datasetLength).fill("");this.config.valuesOverPoints&&(I=A&&P.index===b.datasets.length-1?P.cumulativeYs:P.values);var D=new Array(b.datasetLength).fill(0);return A&&(D=P.yPositions.map(function(R,M){return R-P.cumulativeYPos[M]})),{xPositions:z,yPositions:P.yPositions,offsets:D,labels:I,zeroLine:b.yAxis.zeroLine,barsWidth:N,barWidth:S}}.bind(i)]}),c=u.map(function(_){var v=_.index;return["lineGraph-"+_.index,{index:v,color:i.colors[v],svgDefs:i.svgDefs,heatline:i.lineOptions.heatline,regionFill:i.lineOptions.regionFill,spline:i.lineOptions.spline,hideDots:i.lineOptions.hideDots,hideLine:i.lineOptions.hideLine,valuesOverPoints:i.config.valuesOverPoints},function(){var b=this.state,P=b.datasets[v],A=b.yAxis.positions[0]<b.yAxis.zeroLine?b.yAxis.positions[0]:b.yAxis.zeroLine;return{xPositions:b.xAxis.positions,yPositions:P.yPositions,values:P.values,zeroLine:A,radius:this.lineOptions.dotSize||lf}}.bind(i)]}),d=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];s=s.concat(h,c,d);var m=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(s.filter(function(_){return!m.includes(_[0])||i.state[_[0]]}).map(function(_){var v=ai.apply(void 0,Do(_));return(_[0].includes("lineGraph")||_[0].includes("barGraph"))&&i.dataUnitComponents.push(v),[_[0],v]}))}},{key:"makeDataByIndex",value:function(){var i=this;this.dataByIndex={};var s=this.state,a=this.config.formatTooltipX,u=this.config.formatTooltipY;s.xAxis.labels.map(function(h,c){var d=i.state.datasets.map(function(m,_){var v=m.values[c];return{title:m.name,value:v,yPos:m.yPositions[c],color:i.colors[_],formatted:u?u(v):v}});i.dataByIndex[c]={label:h,formattedLabel:a?a(h):h,xPos:s.xAxis.positions[c],values:d,yExtreme:s.yExtremes[c]}})}},{key:"bindTooltip",value:function(){var i=this;this.container.addEventListener("mousemove",function(s){var a=i.measures,u=ri(i.container),h=s.pageX-u.left-Gi(a),c=s.pageY-u.top;c<i.height+Yi(a)&&c>Yi(a)?i.mapTooltipXPosition(h):i.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(i){var s=this.state;if(s.yExtremes){var a=zc(i,s.xAxis.positions,!0);if(a>=0){var u=this.dataByIndex[a];this.tip.setValues(u.xPos+this.tip.offset.x,u.yExtreme+this.tip.offset.y,{name:u.formattedLabel,value:""},u.values,a),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var i=this,s=this.data;s.datasets.length>1&&(this.legendArea.textContent="",s.datasets.map(function(a,u){var h=sf,c=Vh(h*u,"0",h,i.colors[u],a.name,i.config.truncateLegends);i.legendArea.appendChild(c)}))}},{key:"makeOverlay",value:function(){var i=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(s){var a=s.overlay;a.parentNode.removeChild(a)}),this.overlayGuides=this.dataUnitComponents.map(function(s){return{type:s.unitType,overlay:void 0,units:s.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(s){var a=s.units[i.state.currentIndex];s.overlay=wf[s.type](a),i.drawArea.appendChild(s.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(i){var s=i.overlay;s.parentNode.removeChild(s)})}},{key:"bindOverlay",value:function(){var i=this;this.parent.addEventListener("data-select",function(){i.updateOverlay()})}},{key:"bindUnits",value:function(){var i=this;this.dataUnitComponents.map(function(s){s.units.map(function(a){a.addEventListener("click",function(){var u=a.getAttribute("data-point-index");i.setCurrentDataPoint(u)})})}),this.tip.container.addEventListener("click",function(){var s=i.tip.container.getAttribute("data-point-index");i.setCurrentDataPoint(s)})}},{key:"updateOverlay",value:function(){var i=this;this.overlayGuides.map(function(s){var a=s.units[i.state.currentIndex];xf[s.type](a,s.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,s=this.state;return{index:i,label:s.xAxis.labels[i],values:s.datasets.map(function(a){return a.values[i]})}}},{key:"setCurrentDataPoint",value:function(i){var s=this.state;(i=parseInt(i))<0&&(i=0),i>=s.xAxis.labels.length&&(i=s.xAxis.labels.length-1),i!==s.currentIndex&&(s.currentIndex=i,Ih(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;Vr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,i,s,a),this.data.labels.splice(a,0,i),this.data.datasets.map(function(u,h){u.values.splice(a,0,s[h])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(Vr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,i),this.data.labels.splice(i,1),this.data.datasets.map(function(s){s.values.splice(i,1)}),this.update(this.data))}},{key:"updateDataset",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[s].values=i,this.update(this.data)}},{key:"updateDatasets",value:function(i){this.data.datasets.map(function(s,a){i[a]&&(s.values=i[a])}),this.update(this.data)}}]),e}(vs),Uf=function(){function r(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,s){return i&&r(e.prototype,i),s&&r(e,s),e}}(),jo=function r(e,i,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:r(u,i,s)}if("value"in a)return a.value;var h=a.get;if(h!==void 0)return h.call(s)},Gf=function(r){function e(i,s){qc(this,e);var a=Yc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,s));return a.type="donut",a.initTimeout=0,a.init=1,a.setup(),a}return Kc(e,r),Uf(e,[{key:"configure",value:function(i){jo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,i),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=i.hoverRadio||.1,this.config.startAngle=i.startAngle||0,this.clockWise=i.clockWise||!1,this.strokeWidth=i.strokeWidth||30}},{key:"calc",value:function(){var i=this;jo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var s=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var a=this.radius,u=this.clockWise,h=s.slicesProperties||[];s.sliceStrings=[],s.slicesProperties=[];var c=180-this.config.startAngle;s.sliceTotals.map(function(d,m){var _=c,v=d/s.grandTotal*Ma,b=v>180?1:0,P=u?-v:v,A=c+=P,E=hn(_,a),N=hn(A,a),S=i.init&&h[m],z=void 0,I=void 0;i.init?(z=S?S.startPosition:E,I=S?S.endPosition:E):(z=E,I=N);var D=v===360?Uh(z,I,i.center,i.radius,i.clockWise,b):Wh(z,I,i.center,i.radius,i.clockWise,b);s.sliceStrings.push(D),s.slicesProperties.push({startPosition:E,endPosition:N,value:d,total:s.grandTotal,startAngle:_,endAngle:A,angle:P})}),this.init=0}},{key:"setupComponents",value:function(){var i=this.state,s=[["donutSlices",{},function(){return{sliceStrings:i.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(s.map(function(a){var u=ai.apply(void 0,Vc(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(i){var s=this.radius,a=this.hoverRadio,u=hn(i.startAngle+i.angle/2,s);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(i,s,a,u){if(i){var h=this.colors[s];if(a){Ji(i,this.calTranslateByAngle(this.state.slicesProperties[s])),i.style.stroke=_s(h,50);var c=ri(this.svg),d=u.pageX-c.left+10,m=u.pageY-c.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[s]:this.state.labels[s])+": ",v=(100*this.state.sliceTotals[s]/this.state.grandTotal).toFixed(1);this.tip.setValues(d,m,{name:_,value:v+"%"}),this.tip.showTip()}else Ji(i,"translate3d(0,0,0)"),this.tip.hideTip(),i.style.stroke=h}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(i){var s=i.target,a=this.components.get("donutSlices").store,u=this.curActiveSliceIndex,h=this.curActiveSlice;if(a.includes(s)){var c=a.indexOf(s);this.hoverSlice(h,u,!1),this.curActiveSlice=s,this.curActiveSliceIndex=c,this.hoverSlice(s,c,!0,i)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(ys),Wo={bar:os,line:os,percentage:Bf,heatmap:jf,pie:$f,donut:Gf},Vf=function r(e,i){return Xc(this,r),Jc(i.type,e,i)};function qf(r){let e,i,s;return{c(){e=k("div")},m(a,u){j(a,e,u),r[18](e),i||(s=At(e,"data-select",r[17]),i=!0)},p:G,i:G,o:G,d(a){a&&F(e),r[18](null),i=!1,s()}}}function Yf(r,e,i){let{data:s={labels:[],datasets:[{values:[]}],yMarkers:{},yRegions:[]}}=e,{title:a=""}=e,{type:u="line"}=e,{height:h=300}=e,{animate:c=!0}=e,{axisOptions:d={}}=e,{barOptions:m={}}=e,{lineOptions:_={}}=e,{tooltipOptions:v={}}=e,{colors:b=[]}=e,{valuesOverPoints:P=0}=e,{isNavigable:A=!1}=e,{maxSlices:E=3}=e,N=null,S;function z(B){return function(...ct){if(N)return B(...ct)}}const I=z((B,Tt,ct)=>N.addDataPoint(B,Tt,ct)),D=z(B=>N.removeDataPoint(B)),R=z(()=>N.export()),M=z(B=>N.update(B));gn(()=>{N=new Vf(S,{data:s,title:a,type:u,height:h,animate:c,colors:b,axisOptions:d,barOptions:m,lineOptions:_,tooltipOptions:v,valuesOverPoints:P,isNavigable:A,maxSlices:E})}),oa(()=>{N=null});function K(B){Qr.call(this,r,B)}function et(B){ii[B?"unshift":"push"](()=>{S=B,i(0,S)})}return r.$$set=B=>{"data"in B&&i(1,s=B.data),"title"in B&&i(2,a=B.title),"type"in B&&i(3,u=B.type),"height"in B&&i(4,h=B.height),"animate"in B&&i(5,c=B.animate),"axisOptions"in B&&i(6,d=B.axisOptions),"barOptions"in B&&i(7,m=B.barOptions),"lineOptions"in B&&i(8,_=B.lineOptions),"tooltipOptions"in B&&i(9,v=B.tooltipOptions),"colors"in B&&i(10,b=B.colors),"valuesOverPoints"in B&&i(11,P=B.valuesOverPoints),"isNavigable"in B&&i(12,A=B.isNavigable),"maxSlices"in B&&i(13,E=B.maxSlices)},r.$$.update=()=>{r.$$.dirty&2&&M(s)},[S,s,a,u,h,c,d,m,_,v,b,P,A,E,I,D,R,K,et]}class Kf extends yt{constructor(e){super(),vt(this,e,Yf,qf,_t,{data:1,title:2,type:3,height:4,animate:5,axisOptions:6,barOptions:7,lineOptions:8,tooltipOptions:9,colors:10,valuesOverPoints:11,isNavigable:12,maxSlices:13,addDataPoint:14,removeDataPoint:15,exportChart:16})}get addDataPoint(){return this.$$.ctx[14]}get removeDataPoint(){return this.$$.ctx[15]}get exportChart(){return this.$$.ctx[16]}}function Xf(r){let e,i,s,a,u,h,c,d,m,_;return e=new vn({}),m=new Kf({props:{data:r[0],type:"line"}}),{c(){ht(e.$$.fragment),i=O(),s=k("br"),a=O(),u=k("div"),h=k("div"),c=k("h1"),c.textContent="Total Placemarks",d=O(),ht(m.$$.fragment),x(c,"class","title is-4"),x(h,"class","column box has-text-centered"),x(u,"class","columns")},m(v,b){at(e,v,b),j(v,i,b),j(v,s,b),j(v,a,b),j(v,u,b),y(u,h),y(h,c),y(h,d),at(m,h,null),_=!0},p:G,i(v){_||(tt(e.$$.fragment,v),tt(m.$$.fragment,v),_=!0)},o(v){it(e.$$.fragment,v),it(m.$$.fragment,v),_=!1},d(v){lt(e,v),v&&F(i),v&&F(s),v&&F(a),v&&F(u),lt(m)}}}function Jf(r){return[{labels:["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],datasets:[{values:[10,12,3,9,8,15,9]}]}]}class Qf extends yt{constructor(e){super(),vt(this,e,Jf,Xf,_t,{})}}function td(r){let e,i,s,a;return e=new vn({}),s=new ya({}),{c(){ht(e.$$.fragment),i=O(),ht(s.$$.fragment)},m(u,h){at(e,u,h),j(u,i,h),at(s,u,h),a=!0},p:G,i(u){a||(tt(e.$$.fragment,u),tt(s.$$.fragment,u),a=!0)},o(u){it(e.$$.fragment,u),it(s.$$.fragment,u),a=!1},d(u){lt(e,u),u&&F(i),lt(s,u)}}}class ed extends yt{constructor(e){super(),vt(this,e,null,td,_t,{})}}var bs={exports:{}},Da=function(e,i){return function(){for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];return e.apply(i,a)}},nd=Da,ws=Object.prototype.toString,xs=function(r){return function(e){var i=ws.call(e);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function De(r){return r=r.toLowerCase(),function(i){return xs(i)===r}}function Ps(r){return Array.isArray(r)}function Qi(r){return typeof r=="undefined"}function id(r){return r!==null&&!Qi(r)&&r.constructor!==null&&!Qi(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var Ra=De("ArrayBuffer");function rd(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ra(r.buffer),e}function sd(r){return typeof r=="string"}function od(r){return typeof r=="number"}function Ba(r){return r!==null&&typeof r=="object"}function Vi(r){if(xs(r)!=="object")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}var ad=De("Date"),ld=De("File"),ud=De("Blob"),hd=De("FileList");function Ls(r){return ws.call(r)==="[object Function]"}function cd(r){return Ba(r)&&Ls(r.pipe)}function fd(r){var e="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||ws.call(r)===e||Ls(r.toString)&&r.toString()===e)}var dd=De("URLSearchParams");function pd(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function md(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Ts(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),Ps(r))for(var i=0,s=r.length;i<s;i++)e.call(null,r[i],i,r);else for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.call(null,r[a],a,r)}function as(){var r={};function e(a,u){Vi(r[u])&&Vi(a)?r[u]=as(r[u],a):Vi(a)?r[u]=as({},a):Ps(a)?r[u]=a.slice():r[u]=a}for(var i=0,s=arguments.length;i<s;i++)Ts(arguments[i],e);return r}function _d(r,e,i){return Ts(e,function(a,u){i&&typeof a=="function"?r[u]=nd(a,i):r[u]=a}),r}function gd(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function vd(r,e,i,s){r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,i&&Object.assign(r.prototype,i)}function yd(r,e,i){var s,a,u,h={};e=e||{};do{for(s=Object.getOwnPropertyNames(r),a=s.length;a-- >0;)u=s[a],h[u]||(e[u]=r[u],h[u]=!0);r=Object.getPrototypeOf(r)}while(r&&(!i||i(r,e))&&r!==Object.prototype);return e}function bd(r,e,i){r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=e.length;var s=r.indexOf(e,i);return s!==-1&&s===i}function wd(r){if(!r)return null;var e=r.length;if(Qi(e))return null;for(var i=new Array(e);e-- >0;)i[e]=r[e];return i}var xd=function(r){return function(e){return r&&e instanceof r}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),Mt={isArray:Ps,isArrayBuffer:Ra,isBuffer:id,isFormData:fd,isArrayBufferView:rd,isString:sd,isNumber:od,isObject:Ba,isPlainObject:Vi,isUndefined:Qi,isDate:ad,isFile:ld,isBlob:ud,isFunction:Ls,isStream:cd,isURLSearchParams:dd,isStandardBrowserEnv:md,forEach:Ts,merge:as,extend:_d,trim:pd,stripBOM:gd,inherits:vd,toFlatObject:yd,kindOf:xs,kindOfTest:De,endsWith:bd,toArray:wd,isTypedArray:xd,isFileList:hd},sn=Mt;function Uo(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Za=function(e,i,s){if(!i)return e;var a;if(s)a=s(i);else if(sn.isURLSearchParams(i))a=i.toString();else{var u=[];sn.forEach(i,function(d,m){d===null||typeof d=="undefined"||(sn.isArray(d)?m=m+"[]":d=[d],sn.forEach(d,function(v){sn.isDate(v)?v=v.toISOString():sn.isObject(v)&&(v=JSON.stringify(v)),u.push(Uo(m)+"="+Uo(v))}))}),a=u.join("&")}if(a){var h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},Pd=Mt;function sr(){this.handlers=[]}sr.prototype.use=function(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};sr.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};sr.prototype.forEach=function(e){Pd.forEach(this.handlers,function(s){s!==null&&e(s)})};var Ld=sr,Td=Mt,kd=function(e,i){Td.forEach(e,function(a,u){u!==i&&u.toUpperCase()===i.toUpperCase()&&(e[i]=a,delete e[u])})},$a=Mt;function dn(r,e,i,s,a){Error.call(this),this.message=r,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),a&&(this.response=a)}$a.inherits(dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ha=dn.prototype,Fa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){Fa[r]={value:r}});Object.defineProperties(dn,Fa);Object.defineProperty(Ha,"isAxiosError",{value:!0});dn.from=function(r,e,i,s,a,u){var h=Object.create(Ha);return $a.toFlatObject(r,h,function(d){return d!==Error.prototype}),dn.call(h,r.message,e,i,s,a),h.name=r.name,u&&Object.assign(h,u),h};var bn=dn,ja={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt=Mt;function Ed(r,e){e=e||new FormData;var i=[];function s(u){return u===null?"":qt.isDate(u)?u.toISOString():qt.isArrayBuffer(u)||qt.isTypedArray(u)?typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function a(u,h){if(qt.isPlainObject(u)||qt.isArray(u)){if(i.indexOf(u)!==-1)throw Error("Circular reference detected in "+h);i.push(u),qt.forEach(u,function(d,m){if(!qt.isUndefined(d)){var _=h?h+"."+m:m,v;if(d&&!h&&typeof d=="object"){if(qt.endsWith(m,"{}"))d=JSON.stringify(d);else if(qt.endsWith(m,"[]")&&(v=qt.toArray(d))){v.forEach(function(b){!qt.isUndefined(b)&&e.append(_,s(b))});return}}a(d,_)}}),i.pop()}else e.append(h,s(u))}return a(r),e}var Wa=Ed,qr=bn,Cd=function(e,i,s){var a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):i(new qr("Request failed with status code "+s.status,[qr.ERR_BAD_REQUEST,qr.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},ji=Mt,Sd=ji.isStandardBrowserEnv()?function(){return{write:function(i,s,a,u,h,c){var d=[];d.push(i+"="+encodeURIComponent(s)),ji.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),ji.isString(u)&&d.push("path="+u),ji.isString(h)&&d.push("domain="+h),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ad=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Od=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e},Md=Ad,zd=Od,Ua=function(e,i){return e&&!Md(i)?zd(e,i):i},Yr=Mt,Id=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Nd=function(e){var i={},s,a,u;return e&&Yr.forEach(e.split(`
`),function(c){if(u=c.indexOf(":"),s=Yr.trim(c.substr(0,u)).toLowerCase(),a=Yr.trim(c.substr(u+1)),s){if(i[s]&&Id.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([a]):i[s]=i[s]?i[s]+", "+a:a}}),i},Go=Mt,Dd=Go.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function a(u){var h=u;return e&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=a(window.location.href),function(h){var c=Go.isString(h)?a(h):h;return c.protocol===s.protocol&&c.host===s.host}}():function(){return function(){return!0}}(),ls=bn,Rd=Mt;function Ga(r){ls.call(this,r==null?"canceled":r,ls.ERR_CANCELED),this.name="CanceledError"}Rd.inherits(Ga,ls,{__CANCEL__:!0});var or=Ga,Bd=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""},Xn=Mt,Zd=Cd,$d=Sd,Hd=Za,Fd=Ua,jd=Nd,Wd=Dd,Ud=ja,le=bn,Gd=or,Vd=Bd,Vo=function(e){return new Promise(function(s,a){var u=e.data,h=e.headers,c=e.responseType,d;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}Xn.isFormData(u)&&Xn.isStandardBrowserEnv()&&delete h["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+b)}var P=Fd(e.baseURL,e.url);_.open(e.method.toUpperCase(),Hd(P,e.params,e.paramsSerializer),!0),_.timeout=e.timeout;function A(){if(!!_){var S="getAllResponseHeaders"in _?jd(_.getAllResponseHeaders()):null,z=!c||c==="text"||c==="json"?_.responseText:_.response,I={data:z,status:_.status,statusText:_.statusText,headers:S,config:e,request:_};Zd(function(R){s(R),m()},function(R){a(R),m()},I),_=null}}if("onloadend"in _?_.onloadend=A:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(A)},_.onabort=function(){!_||(a(new le("Request aborted",le.ECONNABORTED,e,_)),_=null)},_.onerror=function(){a(new le("Network Error",le.ERR_NETWORK,e,_,_)),_=null},_.ontimeout=function(){var z=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",I=e.transitional||Ud;e.timeoutErrorMessage&&(z=e.timeoutErrorMessage),a(new le(z,I.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,_)),_=null},Xn.isStandardBrowserEnv()){var E=(e.withCredentials||Wd(P))&&e.xsrfCookieName?$d.read(e.xsrfCookieName):void 0;E&&(h[e.xsrfHeaderName]=E)}"setRequestHeader"in _&&Xn.forEach(h,function(z,I){typeof u=="undefined"&&I.toLowerCase()==="content-type"?delete h[I]:_.setRequestHeader(I,z)}),Xn.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),c&&c!=="json"&&(_.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&_.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(S){!_||(a(!S||S&&S.type?new Gd:S),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),u||(u=null);var N=Vd(P);if(N&&["http","https","file"].indexOf(N)===-1){a(new le("Unsupported protocol "+N+":",le.ERR_BAD_REQUEST,e));return}_.send(u)})},qd=null,St=Mt,qo=kd,Yo=bn,Yd=ja,Kd=Wa,Xd={"Content-Type":"application/x-www-form-urlencoded"};function Ko(r,e){!St.isUndefined(r)&&St.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function Jd(){var r;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(r=Vo),r}function Qd(r,e,i){if(St.isString(r))try{return(e||JSON.parse)(r),St.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(r)}var ar={transitional:Yd,adapter:Jd(),transformRequest:[function(e,i){if(qo(i,"Accept"),qo(i,"Content-Type"),St.isFormData(e)||St.isArrayBuffer(e)||St.isBuffer(e)||St.isStream(e)||St.isFile(e)||St.isBlob(e))return e;if(St.isArrayBufferView(e))return e.buffer;if(St.isURLSearchParams(e))return Ko(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s=St.isObject(e),a=i&&i["Content-Type"],u;if((u=St.isFileList(e))||s&&a==="multipart/form-data"){var h=this.env&&this.env.FormData;return Kd(u?{"files[]":e}:e,h&&new h)}else if(s||a==="application/json")return Ko(i,"application/json"),Qd(e);return e}],transformResponse:[function(e){var i=this.transitional||ar.transitional,s=i&&i.silentJSONParsing,a=i&&i.forcedJSONParsing,u=!s&&this.responseType==="json";if(u||a&&St.isString(e)&&e.length)try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Yo.from(h,Yo.ERR_BAD_RESPONSE,this,null,this.response):h}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qd},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};St.forEach(["delete","get","head"],function(e){ar.headers[e]={}});St.forEach(["post","put","patch"],function(e){ar.headers[e]=St.merge(Xd)});var ks=ar,tp=Mt,ep=ks,np=function(e,i,s){var a=this||ep;return tp.forEach(s,function(h){e=h.call(a,e,i)}),e},Va=function(e){return!!(e&&e.__CANCEL__)},Xo=Mt,Kr=np,ip=Va,rp=ks,sp=or;function Xr(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new sp}var op=function(e){Xr(e),e.headers=e.headers||{},e.data=Kr.call(e,e.data,e.headers,e.transformRequest),e.headers=Xo.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Xo.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var i=e.adapter||rp.adapter;return i(e).then(function(a){return Xr(e),a.data=Kr.call(e,a.data,a.headers,e.transformResponse),a},function(a){return ip(a)||(Xr(e),a&&a.response&&(a.response.data=Kr.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},Ft=Mt,qa=function(e,i){i=i||{};var s={};function a(_,v){return Ft.isPlainObject(_)&&Ft.isPlainObject(v)?Ft.merge(_,v):Ft.isPlainObject(v)?Ft.merge({},v):Ft.isArray(v)?v.slice():v}function u(_){if(Ft.isUndefined(i[_])){if(!Ft.isUndefined(e[_]))return a(void 0,e[_])}else return a(e[_],i[_])}function h(_){if(!Ft.isUndefined(i[_]))return a(void 0,i[_])}function c(_){if(Ft.isUndefined(i[_])){if(!Ft.isUndefined(e[_]))return a(void 0,e[_])}else return a(void 0,i[_])}function d(_){if(_ in i)return a(e[_],i[_]);if(_ in e)return a(void 0,e[_])}var m={url:h,method:h,data:h,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return Ft.forEach(Object.keys(e).concat(Object.keys(i)),function(v){var b=m[v]||u,P=b(v);Ft.isUndefined(P)&&b!==d||(s[v]=P)}),s},Ya={version:"0.27.2"},ap=Ya.version,be=bn,Es={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){Es[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});var Jo={};Es.transitional=function(e,i,s){function a(u,h){return"[Axios v"+ap+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return function(u,h,c){if(e===!1)throw new be(a(h," has been removed"+(i?" in "+i:"")),be.ERR_DEPRECATED);return i&&!Jo[h]&&(Jo[h]=!0,console.warn(a(h," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(u,h,c):!0}};function lp(r,e,i){if(typeof r!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(r),a=s.length;a-- >0;){var u=s[a],h=e[u];if(h){var c=r[u],d=c===void 0||h(c,u,r);if(d!==!0)throw new be("option "+u+" must be "+d,be.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new be("Unknown option "+u,be.ERR_BAD_OPTION)}}var up={assertOptions:lp,validators:Es},Ka=Mt,hp=Za,Qo=Ld,ta=op,lr=qa,cp=Ua,Xa=up,on=Xa.validators;function pn(r){this.defaults=r,this.interceptors={request:new Qo,response:new Qo}}pn.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=lr(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var s=i.transitional;s!==void 0&&Xa.assertOptions(s,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1);var a=[],u=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(i)===!1||(u=u&&P.synchronous,a.unshift(P.fulfilled,P.rejected))});var h=[];this.interceptors.response.forEach(function(P){h.push(P.fulfilled,P.rejected)});var c;if(!u){var d=[ta,void 0];for(Array.prototype.unshift.apply(d,a),d=d.concat(h),c=Promise.resolve(i);d.length;)c=c.then(d.shift(),d.shift());return c}for(var m=i;a.length;){var _=a.shift(),v=a.shift();try{m=_(m)}catch(b){v(b);break}}try{c=ta(m)}catch(b){return Promise.reject(b)}for(;h.length;)c=c.then(h.shift(),h.shift());return c};pn.prototype.getUri=function(e){e=lr(this.defaults,e);var i=cp(e.baseURL,e.url);return hp(i,e.params,e.paramsSerializer)};Ka.forEach(["delete","get","head","options"],function(e){pn.prototype[e]=function(i,s){return this.request(lr(s||{},{method:e,url:i,data:(s||{}).data}))}});Ka.forEach(["post","put","patch"],function(e){function i(s){return function(u,h,c){return this.request(lr(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}pn.prototype[e]=i(),pn.prototype[e+"Form"]=i(!0)});var fp=pn,dp=or;function mn(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var i=this;this.promise.then(function(s){if(!!i._listeners){var a,u=i._listeners.length;for(a=0;a<u;a++)i._listeners[a](s);i._listeners=null}}),this.promise.then=function(s){var a,u=new Promise(function(h){i.subscribe(h),a=h}).then(s);return u.cancel=function(){i.unsubscribe(a)},u},r(function(a){i.reason||(i.reason=new dp(a),e(i.reason))})}mn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};mn.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};mn.prototype.unsubscribe=function(e){if(!!this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};mn.source=function(){var e,i=new mn(function(a){e=a});return{token:i,cancel:e}};var pp=mn,mp=function(e){return function(s){return e.apply(null,s)}},_p=Mt,gp=function(e){return _p.isObject(e)&&e.isAxiosError===!0},ea=Mt,vp=Da,qi=fp,yp=qa,bp=ks;function Ja(r){var e=new qi(r),i=vp(qi.prototype.request,e);return ea.extend(i,qi.prototype,e),ea.extend(i,e),i.create=function(a){return Ja(yp(r,a))},i}var Dt=Ja(bp);Dt.Axios=qi;Dt.CanceledError=or;Dt.CancelToken=pp;Dt.isCancel=Va;Dt.VERSION=Ya.version;Dt.toFormData=Wa;Dt.AxiosError=bn;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=mp;Dt.isAxiosError=gp;bs.exports=Dt;bs.exports.default=Dt;var ue=bs.exports;const Jr=ds({email:"",token:""});class wp{constructor(e){en(this,"baseUrl","");this.baseUrl=e;const i=localStorage.placemark;if(i){const s=JSON.parse(i);Jr.set({email:s.email,token:s.token}),ue.defaults.headers.common.Authorization=`Bearer ${s.token}`}}async login(e,i){try{const s=await ue.post(`${this.baseUrl}/api/users/authenticate`,{email:e,password:i});return ue.defaults.headers.common.Authorization=`Bearer ${s.data.token}`,s.data.success?(Jr.set({email:e,token:s.data.token}),localStorage.placemark=JSON.stringify({email:e,token:s.data.token}),!0):!1}catch{return!1}}async logout(){Jr.set({email:"",token:""}),ue.defaults.headers.common.Authorization="",localStorage.removeItem("placemark")}async signup(e,i,s,a){try{const u={firstName:e,lastName:i,email:s,password:a};return await ue.post(`${this.baseUrl}/api/users`,u),!0}catch{return!1}}async addPlacemark(e){try{return(await ue.post(`${this.baseUrl}/api/placemarks/`)).status===200}catch{return!1}}async addPointOfInterest(e){try{return(await ue.post(`${this.baseUrl}/api/placemarks/`)).status===200}catch{return!1}}async getPlacemarks(){try{return(await ue.get(`${this.baseUrl}/api/placemarks/`)).data}catch{return[]}}async getPointsOfInterest(){try{return(await ue.get(`${this.baseUrl}/api/pointOfInterests/`)).data}catch{return[]}}}function xp(r){let e,i;return e=new Uu({props:{routes:r[0]}}),{c(){ht(e.$$.fragment)},m(s,a){at(e,s,a),i=!0},p:G,i(s){i||(tt(e.$$.fragment,s),i=!0)},o(s){it(e.$$.fragment,s),i=!1},d(s){lt(e,s)}}}function Pp(r){let e={"/":wo,"/main":wo,"/login":Ku,"/signup":eh,"/about":rh,"/dashboard":_h,"/placemark":vh,"/charts":Qf,"/map":ed,"/poi":Sh};return pu("PlacemarkService",new wp("https://placemark-hapi.herokuapp.com/")),[e]}class Lp extends yt{constructor(e){super(),vt(this,e,Pp,xp,_t,{})}}new Lp({target:document.getElementById("app")});
